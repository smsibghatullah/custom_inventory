<odoo>
    <data>

<template id="template_equipment_public_view" name="Equipment Public View">
    <div style="max-width: 800px; margin: 50px auto; padding: 20px; border: 1px solid #e0e0e0; border-radius: 10px; box-shadow: 0 4px 10px rgba(0,0,0,0.05); font-family: Arial, sans-serif;">
        <h2 style="text-align: center; color: #2c3e50; margin-bottom: 30px;">Equipment Information</h2>
        <t t-if="data">
            <table style="width: 100%; border-collapse: collapse;">
                <tbody>
                    <t t-foreach="data" t-as="item">
                        <tr style="border-bottom: 1px solid #ddd;">
                            <td style="padding: 10px; font-weight: bold; width: 40%; background-color: #f9f9f9; color: #34495e;">
                                <t t-esc="item['label']"/>
                            </td>
                            <td style="padding: 10px; color: #2c3e50;">
                                <t t-esc="item['value']"/>
                            </td>
                        </tr>
                    </t>
                </tbody>
            </table>
        </t>
        <t t-if="not data">
            <p style="text-align: center; color: #888;">No public data configured for this equipment.</p>
        </t>
    </div>
</template>



<template id="sale.report_saleorder_document">
<t t-call="web.html_container">
    <t t-call="web.external_layout">


        <t t-set="doc" t-value="doc.with_context(lang=doc.partner_id.lang)" />

        <t t-set="forced_vat" t-value="doc.fiscal_position_id.foreign_vat"/>          
       <div class="page" style="font-size: 15px;font-family:Lato,Helvetica,Verdana,Arial,sans,Lucida Grande,Calibri;">
       <div class="oe_structure"/>
       <!-- Brand Logo and name -->
       <div style="position: fixed; top: 0; left: 0; padding: 10px;">
            <t t-if="doc.brand_id">
                <div style="display: flex; align-items: center; margin-bottom: 20px;">
                    <div>
                        <img t-att-src="image_data_uri(doc.brand_id.logo)" style="max-height: 180px; max-width: 300px;" />
                    </div>
                    <div style="margin-left: 10px;">
                        <!-- <span t-field="doc.brand_id.name" /> -->
                    </div>
                </div>
            </t>
        </div>

        <div style="position: fixed; top: 38px; right: 0; padding: 10px; text-align: right;margin-bottom: 20px;">
            <span t-field="doc.brand_id.address" />
        </div>
        <br/>
        <br/>
        <br/>
        <br/>
        <br/>
        <t t-if="doc.state in ['draft', 'sent']">
        <div style="display: flex; align-items: center; text-align: center; margin-bottom: 10px;margin-top:130px">
            <span style="flex: 1; border-bottom: 2px solid black; margin: 0 0;"></span>
            <span style="font-weight: bold; font-size: 30px;">&#160;&#160;  <t t-esc="doc.printing_statement == 'estimation' and 'ESTIMATION' or 'QUOTATION'"/> &#160;&#160;</span>
            <span style="flex: 1; border-bottom: 2px solid black; margin: 0 0;"></span>
        </div>
        </t>
        <t t-else="">
        <div style="display: flex; align-items: center; text-align: center; margin-bottom: 10px;margin-top:130px">
            <span style="flex: 1; border-bottom: 2px solid black; margin: 0 0;"></span>
            <span style="font-weight: bold; font-size: 30px;">&#160;&#160; SALES ORDER &#160;&#160;</span>
            <span style="flex: 1; border-bottom: 2px solid black; margin: 0 0;"></span>
        </div>
        </t>
      

        <table style="width:100%; border-collapse: collapse;">
                <tr style="border: 1px solid white; padding: 5px;">
                    <td style="width: 60%; vertical-align: top;">
                    <div style="font-size: 15px; margin-bottom: 10px;">
                        <div style="font-weight: bold;">Bill To :</div>
                        <span t-field="doc.customer_description"
                            style="font-size: 16px; font-weight: bold; margin-top: 5px; display: block;" />
                    </div>
                    </td>

                    <!-- Right Side: Sale Order Details -->
                    <td style="width: 35%; vertical-align: top;">
                    <table style="width: 100%; border-collapse: collapse; text-align: center;">
                        <tr t-if="doc.state in ['draft', 'sent']">
                        <td style="background-color: #666; color: white; padding: 5px; border: 1px solid black; font-weight: bold;">Estimate / EST #</td>
                        <td style="border: 1px solid black; padding: 5px;"><span t-field="doc.name">SO0000</span></td>
                        </tr>
                        <tr t-if="doc.state not in ['draft', 'sent']">
                        <td style="background-color: #666; color: white; padding: 5px; border: 1px solid black; font-weight: bold;">SO #</td>
                        <td style="border: 1px solid black; padding: 5px;"><span t-field="doc.name">SO0000</span></td>
                        </tr>
                        <tr t-if="doc.date_order">
                        <td style="background-color: #666; color: white; padding: 5px; border: 1px solid black; font-weight: bold;">Date</td>
                        <td style="border: 1px solid black; padding: 5px;">
                            <span t-field="doc.formatted_date_order">20-Feb-2025</span>
                        </td>
                        </tr>
                        <tr t-if="doc.validity_date and doc.state in ['draft', 'sent']">
                        <td style="background-color: #666; color: white; padding: 5px; border: 1px solid black; font-weight: bold;">Expiry Date</td>
                        <td style="border: 1px solid black; padding: 5px;">
                            <div name="expiration_date">
                            <span class="m-0" t-field="doc.formatted_validity_date">20-Feb-2025</span>
                            </div>
                        </td>
                        </tr>
                        <tr>
                        <td style="background-color: #666; color: white; padding: 5px; border: 1px solid black; font-weight: bold;">Ref #</td>
                        <td style="border: 1px solid black; padding: 5px;"><span t-field="doc.reference">SO0000</span></td>
                        </tr>
                        <tr t-if="doc.payment_term_id">
                        <td style="background-color: #666; color: white; padding: 5px; border: 1px solid black; font-weight: bold;">Payment Terms #</td>
                        <td style="border: 1px solid black; padding: 5px;"><span t-field="doc.payment_term_id"></span></td>
                        </tr>
                    </table>
                    </td>
                </tr>
        </table>
        


        <br/>
        <table style="margin-bottom: 10px;  width: 100%;">
            <t t-set="valid_fields" t-value="[field for field in doc.text_fields if field.text_value]" />
            
            <t t-foreach="valid_fields" t-as="field">
                <tr>
                    <td style="width: 25%; max-width: 350px; background-color: #666; color: white; padding: 12px; border: 1px solid black; font-weight: bold;text-align: left;">
                        <t t-esc="field.text_field" />
                    </td>

                    <td style="width: 75%; max-width: 300px; border: 1px solid black; padding: 12px; text-align: center; word-wrap: break-word;">
                        <t t-esc="field.text_value" />
                    </td>
                </tr>
            </t>
        </table>

        <t t-if="doc.checkbox_fields">
                    <table style="margin-bottom:10px;  width: 100%;">
                        <t t-set="checkbox_count" t-value="len(doc.checkbox_fields)" />

                        <t t-foreach="range(0, checkbox_count, 4)" t-as="index">
                            <tr>
                                <t t-if="index &lt; checkbox_count">
                                    <td style="text-align: center;background-color: #666; color: white; padding: 10px; border: 1px solid black; font-weight: bold;">
                                        <t t-esc="doc.checkbox_fields[index].checkbox_field" />
                                    </td>
                                </t>
                                <t t-if="index + 1 &lt; checkbox_count">
                                    <td style="text-align: center;background-color: #666; color: white; padding: 10px; border: 1px solid black; font-weight: bold;">
                                        <t t-esc="doc.checkbox_fields[index + 1].checkbox_field" />
                                    </td>
                                </t>
                                <t t-if="index + 2 &lt; checkbox_count">
                                    <td style="text-align: center;background-color: #666; color: white; padding: 10px; border: 1px solid black; font-weight: bold;">
                                        <t t-esc="doc.checkbox_fields[index + 2].checkbox_field" />
                                    </td>
                                </t>
                                <t t-if="index + 3 &lt; checkbox_count">
                                    <td style="text-align: center;background-color: #666; color: white; padding: 10px; border: 1px solid black; font-weight: bold;">
                                        <t t-esc="doc.checkbox_fields[index + 3].checkbox_field" />
                                    </td>
                                </t>
                            </tr>
                            <tr>
                                <!-- Checkbox Values -->
                                <t t-if="index &lt; checkbox_count">
                                    <td style="width: 250px; max-width: 250px; border: 1px solid black; padding: 10px; text-align: center; word-wrap: break-word;">
                                        <t t-if="doc.checkbox_fields[index].checkbox_value">YES</t>
                                        <t t-else="">NO</t>
                                    </td>
                                </t>
                                <t t-if="index + 1 &lt; checkbox_count">
                                    <td style="width: 250px; max-width: 250px; border: 1px solid black; padding: 10px; text-align: center; word-wrap: break-word;">
                                        <t t-if="doc.checkbox_fields[index + 1].checkbox_value">YES</t>
                                        <t t-else="">NO</t>
                                    </td>
                                </t>
                                <t t-if="index + 2 &lt; checkbox_count">
                                    <td style="width: 250px; max-width: 250px; border: 1px solid black; padding: 10px; text-align: center; word-wrap: break-word;">
                                        <t t-if="doc.checkbox_fields[index + 2].checkbox_value">YES</t>
                                        <t t-else="">NO</t>
                                    </td>
                                </t>
                                <t t-if="index + 3 &lt; checkbox_count">
                                    <td style="width: 250px; max-width: 250px; border: 1px solid black; padding: 10px; text-align: center; word-wrap: break-word;">
                                        <t t-if="doc.checkbox_fields[index + 3].checkbox_value">YES</t>
                                        <t t-else="">NO</t>
                                    </td>
                                </t>
                            </tr>
                        </t>
                    </table>
                </t>

                <t t-if="doc.selection_fields">
                    <table style="margin-bottom:10px; width: 100%;">
                        <t t-set="selection_count" t-value="len(doc.selection_fields)" />
                                <t t-foreach="range(0, selection_count, 4)" t-as="index">
                                    <tr>
                                        <t t-if="index &lt; selection_count and doc.selection_fields[index].selected_value.value_field">
                                            <td style="text-align: center;background-color: #666; color: white; padding: 10px; border: 1px solid black; font-weight: bold;">
                                                <t t-esc="doc.selection_fields[index].selection_field" />
                                            </td>
                                        </t>
                                        <t t-if="index + 1 &lt; selection_count and doc.selection_fields[index + 1].selected_value.value_field">
                                            <td style="text-align: center;background-color: #666; color: white; padding: 10px; border: 1px solid black; font-weight: bold;">
                                                <t t-esc="doc.selection_fields[index + 1].selection_field" />
                                            </td>
                                        </t>
                                        <t t-if="index + 2 &lt; selection_count and doc.selection_fields[index + 2].selected_value.value_field">
                                            <td style="text-align: center;background-color: #666; color: white; padding: 10px; border: 1px solid black; font-weight: bold;">
                                                <t t-esc="doc.selection_fields[index + 2].selection_field" />
                                            </td>
                                        </t>
                                        <t t-if="index + 3 &lt; selection_count and doc.selection_fields[index + 3].selected_value.value_field">
                                            <td style="text-align: center;background-color: #666; color: white; padding: 10px; border: 1px solid black; font-weight: bold;">
                                                <t t-esc="doc.selection_fields[index + 3].selection_field" />
                                            </td>
                                        </t>
                                    </tr>
                                    <tr>
                                        <t t-if="index &lt; selection_count and doc.selection_fields[index].selected_value.value_field">
                                            <td style="width: 250px; max-width: 250px; border: 1px solid black; padding: 10px; text-align: center; word-wrap: break-word;">
                                                <t t-esc="doc.selection_fields[index].selected_value.value_field" />
                                            </td>
                                        </t>
                                        <t t-if="index + 1 &lt; selection_count and doc.selection_fields[index + 1].selected_value.value_field">
                                            <td style="width: 250px; max-width: 250px; border: 1px solid black; padding: 10px; text-align: center; word-wrap: break-word;">
                                                <t t-esc="doc.selection_fields[index + 1].selected_value.value_field" />
                                            </td>
                                        </t>
                                        <t t-if="index + 2 &lt; selection_count and doc.selection_fields[index + 2].selected_value.value_field">
                                            <td style="width: 250px; max-width: 250px; border: 1px solid black; padding: 10px; text-align: center; word-wrap: break-word;">
                                                <t t-esc="doc.selection_fields[index + 2].selected_value.value_field" />
                                            </td>
                                        </t>
                                        <t t-if="index + 3 &lt; selection_count and doc.selection_fields[index + 3].selected_value.value_field">
                                            <td style="width: 250px; max-width: 250px; border: 1px solid black; padding: 10px; text-align: center; word-wrap: break-word;">
                                                <t t-esc="doc.selection_fields[index + 3].selected_value.value_field" />
                                            </td>
                                        </t>
                                    </tr>
                                </t>
                            </table>
                        </t>


        <t t-set="lines_to_report" t-value="doc._get_order_lines_to_report()"/>
        <t t-set="display_discount" t-value="any(l.discount for l in lines_to_report)"/>
        
        <table style="border-collapse: collapse; width: 100%;">
            <thead>
                <tr>
                    <th style="width: 4%; padding: 5px; background-color: #666; color: white; border: 1px solid black;">#</th>
                    <th style="width: 35%; padding: 5px; background-color: #666; color: white; border: 1px solid black;">Product</th>
                    <th style="width: 35%; padding: 5px; background-color: #666; color: white; border: 1px solid black;">Item / Description</th>
                    <t t-if="doc.brand_id.is_tax_show">
                        <th style="width: 20%; padding: 5px; background-color: #666; color: white; border: 1px solid black;">Tax</th>
                    </t>
                    <t t-if="doc.discount_amount">
                        <th style="width: 10%; padding: 5px; background-color: #666; color: white; border: 1px solid black;">Discount(%)</th>
                    </t>
                    <th style="width: 5%; padding: 5px; background-color: #666; color: white; border: 1px solid black;">Qty</th>
                    <th style="width: 5%; padding: 5px; background-color: #666; color: white; border: 1px solid black;">Rate</th>
                    <th style="width: 5%; padding: 5px; background-color: #666; color: white; border: 1px solid black;">Amount</th>
                </tr>
            </thead>
            <tbody class="sale_tbody">
            <t t-set="index" t-value="0"/> 
            <t t-foreach="lines_to_report" t-as="line">
            <t t-set="index" t-value="index + 1"/>
                    <tr>
                        <td style="border: 1px solid black; padding: 10px;"><t t-out="index"/></td>
                        <td style="word-break: break-word; white-space: normal;border: 1px solid black; padding: 10px;"><span t-field='line.product_id.name'>-</span></td>
                        <td style="word-break: break-word; white-space: normal;border: 1px solid black; padding: 10px;"><span t-field='line.name'>-</span></td>
                        <t t-if="doc.brand_id.is_tax_show">
                        <t t-set="taxes" t-value="', '.join([(tax.invoice_label or tax.name) for tax in line.tax_id])"/>
                        <td style="word-break: break-word; white-space: normal;border: 1px solid black; padding: 10px;" name="td_taxes" t-attf-class="text-end {{ 'text-nowrap' if len(taxes) &lt; 10 else '' }}">
                                <span t-out="taxes">Tax 15%</span>
                        </td>
                        </t> 
                        <t t-if="doc.discount_amount">
                        <td style="border: 1px solid black; padding: 10px;"><span t-field="line.discount">0.00</span></td>
                        </t>
                        <td style="border: 1px solid black; padding: 10px;">
                                <span t-field="line.product_uom_qty">0.00</span>
                                <span t-field="line.product_uom">units</span>
                        </td>
                        <td style="border: 1px solid black; padding: 10px;"><span t-field="line.price_unit">0.00</span></td>
                        <td style="border: 1px solid black; padding: 10px;"><span t-field="line.price_subtotal">0.00</span></td>
                    </tr>
                </t>
            </tbody>
        </table>

       <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-top: 20px; width: 100%;">
    
            <!-- Left Side -->
            <div style="width: 60%;">
                <p style="font-size: 15px;">Thank you for your business!</p>
            </div>

            <!-- Right Side (Total Calculation) -->
            <div style="width: 35%; text-align: right; margin-left: auto;">
                <table style="border-collapse: collapse; font-size: 15px; width: 100%;">
                    <tr>
                        <td style="padding: 5px;">Sub Total</td>
                        <td style="padding: 5px;"><span t-field="doc.amount_without_shipping">0.00</span></td>
                    </tr>
                    <tr t-if="doc.carrier_id.fixed_price">
                        <td style="padding: 5px;">Shipping</td>
                        <td style="padding: 5px;"><span t-field="doc.carrier_id.fixed_price">0.00</span></td>
                    </tr>
                    <tr t-if="doc.brand_id.is_tax_show">
                        <td style="padding: 5px;">Total Tax (<span t-field="doc.amount_tax">0.00</span>)</td>
                        <td style="padding: 5px;"><span t-field="doc.amount_tax">0.00</span></td>
                    </tr>
                    <tr t-if="doc.discount_amount">
                        <td style="padding: 5px;">Discount</td>
                        <td style="padding: 5px;"><span t-field="doc.discount_amount">0.00</span></td>
                    </tr>
                    <tr t-if="doc.brand_id.is_tax_show" style="border-top: 1px solid black; border-bottom: 1px solid black;">
                        <td style="padding: 1px;"><strong>Total</strong></td>
                        <td style="padding: 1px;"><strong><span t-field="doc.amount_total">0.00</span></strong></td>
                    </tr>
                    <tr t-if="not doc.brand_id.is_tax_show" style="border-top: 1px solid black; border-bottom: 1px solid black;">
                        <td style="padding: 1px;"><strong>Total</strong></td>
                        <td style="padding: 1px;">
                            <strong>
                                <span t-esc="doc.amount_without_shipping + doc.carrier_id.fixed_price if doc.carrier_id else doc.amount_without_shipping"/>
                            </strong>
                        </td>
                    </tr>
                </table>
            </div>
        </div>

        <!-- Bank Details -->
        <div style="margin-top: 20px;">
            <p style="font-size: 15px; font-weight: bold;">How to pay:</p>
            <p style="font-size: 15px;">Bank Deposit</p>

            <div style="font-size: 15px; width: 98%;border:1px solid black; padding:10px" border="1">
              <span class="m-0" t-field="doc.brand_id.bank_account_details"></span>
            </div>
        </div>
        <!-- Special Notes -->
         <t t-if="doc.note">
            <div class="mt-4">
                <strong>Special Note:</strong>
                <span t-field="doc.note" t-attf-style="#{'text-align:justify;text-justify:inter-word;' if doc.company_id.terms_type != 'html' else ''}" name="order_note"/>
            </div>
        <hr/>
        </t>
<br/>


        <!-- Terms & conditions -->
        <div style="margin-top: 20px; border-top: 1px solid #ddd; padding-top: 10px;">
                      <strong>Terms and Conditions:</strong>
                        <t t-if="doc.state == 'draft'">
                        <div t-field="doc.terms_conditions" />
                    </t>
                    <t t-else="">
                        <div t-field="doc.terms_conditions" />
                    </t>
        </div>

        </div>
       <div t-if="not doc.signature" class="oe_structure"></div>
            <div t-else="" class="mt-4 ml64 mr4" name="signature">
                <div class="offset-8">
                    <strong>Signature</strong>
                </div>
                <div class="offset-8">
                    <img t-att-src="image_data_uri(doc.signature)" style="max-height: 4cm; max-width: 8cm;"/>
                </div>
                <div class="offset-8 text-center">
              x        <span t-field="doc.signed_by">Oscar Morgan</span>
                </div>
            </div>
    </t>
    </t>
</template>



    

<template id="purchase.report_purchaseorder_document">
 <t t-call="web.external_layout">
    <t t-call="web.html_container">
    

        <t t-set="o" t-value="o.with_context(lang=o.partner_id.lang)"/>
     
        <div class="page" style="font-size: 15px;font-family:Lato,Helvetica,Verdana,Arial,sans,Lucida Grande,Calibri;">
        <div class="oe_structure"/>
        <div style="position: fixed; top: 0; left: 0; padding: 10px;">
                <t t-if="o.brand_id">
                    <div style="display: flex; align-items: center; margin-bottom: 20px;">
                        <div>
                            <img t-att-src="image_data_uri(o.brand_id.logo)" style="max-height: 180px; max-width: 300px;" />
                        </div>
                        <div style="margin-left: 10px;">
                            <!-- <span t-field="o.brand_id.name" /> -->
                        </div>
                    </div>
                </t>
            </div>
            <div style="position: fixed; top: 38px; right: 0; padding: 10px; text-align: right;margin-bottom: 20px;">
                <span t-field="o.brand_id.address" />
            </div>
            <br/>
            <br/>
            <br/>
            <br/>
            <br/>
            <br/>
            <t t-if="o.state in ['draft', 'sent', 'to approve']">
                <div style="display: flex; align-items: center; text-align: center; margin-bottom: 10px;margin-top:130px">
                    <span style="flex: 1; border-bottom: 2px solid black; margin: 0 0;"></span>
                    <span style="font-weight: bold; font-size: 30px;">&#160;&#160; REQUEST FOR QUOTATION &#160;&#160;</span>
                    <span style="flex: 1; border-bottom: 2px solid black; margin: 0 0;"></span>
                </div>
                </t>
            <t t-if="o.state in ['purchase', 'done']">
                <div style="display: flex; align-items: center; text-align: center; margin-bottom: 10px;margin-top:130px">
                    <span style="flex: 1; border-bottom: 2px solid black; margin: 0 0;"></span>
                    <span style="font-weight: bold; font-size: 30px;">&#160;&#160; PURCHASE ORDER &#160;&#160;</span>
                    <span style="flex: 1; border-bottom: 2px solid black; margin: 0 0;"></span>
                </div>
            </t>
            <t t-if="o.state == 'cancel'">
                <div style="display: flex; align-items: center; text-align: center; margin-bottom: 10px;margin-top:130px">
                    <span style="flex: 1; border-bottom: 2px solid black; margin: 0 0;"></span>
                    <span style="font-weight: bold; font-size: 30px;">&#160;&#160; CANCELLED PURCHASE ORDER &#160;&#160;</span>
                    <span style="flex: 1; border-bottom: 2px solid black; margin: 0 0;"></span>
                </div>
            </t>

                   <!-- Customer details -->
            <div style="font-size: 15px; margin-bottom: 10px;">
            <div style="font-weight: bold;">Bill To : </div>
            <span t-field="o.partner_id"
                 t-options='{"widget": "contact", "fields": ["address", "name", "phone", "vat"], "no_marker": True, "phone_icons": True}'
                style="font-size: 16px; font-weight: bold; margin-top: 5px;width:100%" />
            </div>

                    <div style="display: flex; justify-content: space-between; align-items: flex-start; width: 100%;">
            <div style="width: 60%;">
              <t t-if="o.dest_address_id">
                  
                </t>
           
            </div>

            <!-- Right Side: Sale Order Details -->
            <div style="width: 35%;margin-left: auto;border-collapse: collapse;">
                <table style="width: 100%; border-collapse: collapse; text-align: center;">
                    <tr t-if="o.user_id">
                        <td style="background-color: #666; color: white; padding: 5px; border: 1px solid black; font-weight: bold;">Purchase Representative #</td>
                        <td style="border: 1px solid black; padding: 5px;"><span t-field="o.user_id"></span></td>
                    </tr>
                    <tr t-if="o.name">
                        <td style="background-color: #666; color: white; padding: 5px; border: 1px solid black; font-weight: bold;">PO #</td>
                        <td style="border: 1px solid black; padding: 5px;"><span t-field="o.name"></span></td>
                    </tr>
                    <tr t-if="o.state in ['purchase','done'] and o.date_approve">
                        <td style="background-color: #666; color: white; padding: 5px; border: 1px solid black; font-weight: bold;">Order Date</td>
                        <td style="border: 1px solid black; padding: 5px;">
                            <span  t-field="o.date_approve" ></span>
                        </td>
                    </tr>
                     <tr t-elif="o.date_order">
                        <td   style="background-color: #666; color: white; padding: 5px; border: 1px solid black; font-weight: bold;">Order Deadline</td>
                        <td   style="border: 1px solid black; padding: 5px;">
                              <div t-if="o.date_order" >
                                   <p t-field="o.date_order" class="m-0"/>
                            </div>
                              <div t-elif="o.date_order" >
                                <p t-field="o.date_order" class="m-0"/>
                            </div>
                        </td>
                    </tr>
                    <tr t-if="o.partner_ref">
                        <td style="background-color: #666; color: white; padding: 5px; border: 1px solid black; font-weight: bold;">Ref #</td>
                        <td style="border: 1px solid black; padding: 5px;"><span t-field="o.partner_ref"></span></td>
                    </tr>
                     <tr t-if="o.payment_term_id">
                        <td style="background-color: #666; color: white; padding: 5px; border: 1px solid black; font-weight: bold;">Payment Terms #</td>
                        <td style="border: 1px solid black; padding: 5px;"><span t-field="o.payment_term_id"></span></td>
                    </tr>
                </table>
            </div>
        </div>
        <br/>
         <table style="margin-bottom: 10px;  width: 100%;border-collapse: collapse;">
            <t t-set="valid_fields" t-value="[field for field in o.text_fields if field.text_value]" />
            
            <t t-foreach="valid_fields" t-as="field">
                <tr>
                    <td style="width: 25%; max-width: 350px; background-color: #666; color: white; padding: 12px; border: 1px solid black; font-weight: bold;text-align: left;">
                        <t t-esc="field.text_field" />
                    </td>

                    <td style="width: 75%; max-width: 300px; border: 1px solid black; padding: 12px; text-align: center; word-wrap: break-word;">
                        <t t-esc="field.text_value" />
                    </td>
                </tr>
            </t>
        </table>

        <t t-if="o.checkbox_fields">
                    <table style="margin-bottom:10px;  width: 100%;border-collapse: collapse;">
                        <t t-set="checkbox_count" t-value="len(o.checkbox_fields)" />

                        <t t-foreach="range(0, checkbox_count, 4)" t-as="index">
                            <tr>
                                <t t-if="index &lt; checkbox_count">
                                    <td style="text-align: center;background-color: #666; color: white; padding: 10px; border: 1px solid black; font-weight: bold;">
                                        <t t-esc="o.checkbox_fields[index].checkbox_field" />
                                    </td>
                                </t>
                                <t t-if="index + 1 &lt; checkbox_count">
                                    <td style="text-align: center;background-color: #666; color: white; padding: 10px; border: 1px solid black; font-weight: bold;">
                                        <t t-esc="o.checkbox_fields[index + 1].checkbox_field" />
                                    </td>
                                </t>
                                <t t-if="index + 2 &lt; checkbox_count">
                                    <td style="text-align: center;background-color: #666; color: white; padding: 10px; border: 1px solid black; font-weight: bold;">
                                        <t t-esc="o.checkbox_fields[index + 2].checkbox_field" />
                                    </td>
                                </t>
                                <t t-if="index + 3 &lt; checkbox_count">
                                    <td style="text-align: center;background-color: #666; color: white; padding: 10px; border: 1px solid black; font-weight: bold;">
                                        <t t-esc="o.checkbox_fields[index + 3].checkbox_field" />
                                    </td>
                                </t>
                            </tr>
                            <tr>
                                <!-- Checkbox Values -->
                                <t t-if="index &lt; checkbox_count">
                                    <td style="width: 250px; max-width: 250px; border: 1px solid black; padding: 10px; text-align: center; word-wrap: break-word;">
                                        <t t-if="o.checkbox_fields[index].checkbox_value">YES</t>
                                        <t t-else="">NO</t>
                                    </td>
                                </t>
                                <t t-if="index + 1 &lt; checkbox_count">
                                    <td style="width: 250px; max-width: 250px; border: 1px solid black; padding: 10px; text-align: center; word-wrap: break-word;">
                                        <t t-if="o.checkbox_fields[index + 1].checkbox_value">YES</t>
                                        <t t-else="">NO</t>
                                    </td>
                                </t>
                                <t t-if="index + 2 &lt; checkbox_count">
                                    <td style="width: 250px; max-width: 250px; border: 1px solid black; padding: 10px; text-align: center; word-wrap: break-word;">
                                        <t t-if="o.checkbox_fields[index + 2].checkbox_value">YES</t>
                                        <t t-else="">NO</t>
                                    </td>
                                </t>
                                <t t-if="index + 3 &lt; checkbox_count">
                                    <td style="width: 250px; max-width: 250px; border: 1px solid black; padding: 10px; text-align: center; word-wrap: break-word;">
                                        <t t-if="o.checkbox_fields[index + 3].checkbox_value">YES</t>
                                        <t t-else="">NO</t>
                                    </td>
                                </t>
                            </tr>
                        </t>
                    </table>
                </t>

                <t t-if="o.selection_fields">
                    <table style="margin-bottom:10px; width: 100%;border-collapse: collapse;">
                        <t t-set="selection_count" t-value="len(o.selection_fields)" />
                                <t t-foreach="range(0, selection_count, 4)" t-as="index">
                                    <tr>
                                        <t t-if="index &lt; selection_count and o.selection_fields[index].selected_value.value_field">
                                            <td style="text-align: center;background-color: #666; color: white; padding: 10px; border: 1px solid black; font-weight: bold;">
                                                <t t-esc="o.selection_fields[index].selection_field" />
                                            </td>
                                        </t>
                                        <t t-if="index + 1 &lt; selection_count and o.selection_fields[index + 1].selected_value.value_field">
                                            <td style="text-align: center;background-color: #666; color: white; padding: 10px; border: 1px solid black; font-weight: bold;">
                                                <t t-esc="o.selection_fields[index + 1].selection_field" />
                                            </td>
                                        </t>
                                        <t t-if="index + 2 &lt; selection_count and o.selection_fields[index + 2].selected_value.value_field">
                                            <td style="text-align: center;background-color: #666; color: white; padding: 10px; border: 1px solid black; font-weight: bold;">
                                                <t t-esc="o.selection_fields[index + 2].selection_field" />
                                            </td>
                                        </t>
                                        <t t-if="index + 3 &lt; selection_count and o.selection_fields[index + 3].selected_value.value_field">
                                            <td style="text-align: center;background-color: #666; color: white; padding: 10px; border: 1px solid black; font-weight: bold;">
                                                <t t-esc="o.selection_fields[index + 3].selection_field" />
                                            </td>
                                        </t>
                                    </tr>
                                    <tr>
                                        <t t-if="index &lt; selection_count and o.selection_fields[index].selected_value.value_field">
                                            <td style="width: 250px; max-width: 250px; border: 1px solid black; padding: 10px; text-align: center; word-wrap: break-word;">
                                                <t t-esc="o.selection_fields[index].selected_value.value_field" />
                                            </td>
                                        </t>
                                        <t t-if="index + 1 &lt; selection_count and o.selection_fields[index + 1].selected_value.value_field">
                                            <td style="width: 250px; max-width: 250px; border: 1px solid black; padding: 10px; text-align: center; word-wrap: break-word;">
                                                <t t-esc="o.selection_fields[index + 1].selected_value.value_field" />
                                            </td>
                                        </t>
                                        <t t-if="index + 2 &lt; selection_count and o.selection_fields[index + 2].selected_value.value_field">
                                            <td style="width: 250px; max-width: 250px; border: 1px solid black; padding: 10px; text-align: center; word-wrap: break-word;">
                                                <t t-esc="o.selection_fields[index + 2].selected_value.value_field" />
                                            </td>
                                        </t>
                                        <t t-if="index + 3 &lt; selection_count and o.selection_fields[index + 3].selected_value.value_field">
                                            <td style="width: 250px; max-width: 250px; border: 1px solid black; padding: 10px; text-align: center; word-wrap: break-word;">
                                                <t t-esc="o.selection_fields[index + 3].selected_value.value_field" />
                                            </td>
                                        </t>
                                    </tr>
                                </t>
                            </table>
                        </t>

                        <table style="border-collapse: collapse; width: 100%;">
                            <thead>
                                <tr>
                                    <th  style="background-color: #666; color: white; padding: 10px; border: 1px solid black; font-weight: bold;">#</th>
                                    <th  style="background-color: #666; color: white; padding: 10px; border: 1px solid black; font-weight: bold;">Product</th>
                                    <th  style="background-color: #666; color: white; padding: 10px; border: 1px solid black; font-weight: bold;">Item / Description</th>
                                    <t t-if="o.brand_id.is_tax_show">
                                    <th  style="background-color: #666; color: white; padding: 10px; border: 1px solid black; font-weight: bold;">Tax</th>
                                    </t>
                                    <th  style="background-color: #666; color: white; padding: 10px; border: 1px solid black; font-weight: bold;">Qty</th>
                                    <th  style="background-color: #666; color: white; padding: 10px; border: 1px solid black; font-weight: bold;">Rate</th>
                                    <th  style="background-color: #666; color: white; padding: 10px; border: 1px solid black; font-weight: bold;">Amount</th>
                                </tr>
                            </thead>
                            <tbody class="sale_tbody">
                            <t t-set="index" t-value="0"/> 
                            <t t-foreach="o.order_line" t-as="line">
                            <t t-set="index" t-value="index + 1"/>
                                    <tr t-att-class="'bg-200 fw-bold o_line_section' if line.display_type == 'line_section' else 'fst-italic o_line_note' if line.display_type == 'line_note' else ''">
                                        <td style="border: 1px solid black; padding: 10px;"><t t-out="index"/></td>
                                        <td style="border: 1px solid black; padding: 10px;"><span t-field='line.product_id.name'>-</span></td>
                                        <td style="border: 1px solid black; padding: 10px;"><span t-field='line.name'>-</span></td>
                                        <t t-if="o.brand_id.is_tax_show">
                                        <t t-set="taxes" t-value="', '.join([(tax.invoice_label or tax.name) for tax in line.taxes_id])"/>
                                        <td style="border: 1px solid black; padding: 10px;" name="td_taxes" t-attf-class="text-end {{ 'text-nowrap' if len(taxes) &lt; 10 else '' }}">
                                            <span t-out="taxes">Tax 15%</span>
                                        </td>
                                        </t> 
                                        <td style="border: 1px solid black; padding: 10px;">
                                                    <span t-field="line.product_qty"/>
                                                        <span t-field="line.product_uom.name" groups="uom.group_uom"/>
                                                        <span t-if="line.product_packaging_id">
                                                            (<span t-field="line.product_packaging_qty" t-options='{"widget": "integer"}'/> <span t-field="line.product_packaging_id"/>)
                                                        </span>
                                        </td>
                                        <td style="border: 1px solid black; padding: 10px;"><span t-field="line.price_unit">0.00</span></td>
                                        <td style="border: 1px solid black; padding: 10px;"><span t-field="line.price_subtotal">0.00</span></td>
                                    </tr>
                                </t>
                            </tbody>
                            </table>

                                  <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-top: 20px; width: 100%;">
    
                                    <!-- Left Side -->
                                    <div style="width: 60%;">
                                        <p style="font-size: 15px;">Thank you for your business!</p>
                                    </div>

                                    <!-- Right Side (Total Calculation) -->
                                    <div style="width: 35%; text-align: right; margin-left: auto;">
                                        <table style="border-collapse: collapse; font-size: 15px;">
                                            <tr>
                                                <td style="padding: 5px;">Sub Total</td>
                                                <td style="padding: 5px;"><span t-field="o.amount_untaxed">0.00</span></td>
                                            </tr>
                                            <tr t-if="o.brand_id.is_tax_show">
                                                <td style="padding: 5px;">Total Tax (<span t-field="o.amount_tax">0.00</span>)</td>
                                                <td style="padding: 5px;">
                                                    <span t-field="o.amount_tax">0.00</span>
                                                </td>
                                            </tr>
                                            <tr t-if="o.brand_id.is_tax_show" style="border-top: 1px solid black; border-bottom: 1px solid black;">
                                                <td style="padding: 1px;"><strong>Total</strong></td>
                                                <td style="padding: 1px;"><strong><span t-field="o.amount_total">0.00</span></strong></td>
                                            </tr>
                                            <tr t-if="not o.brand_id.is_tax_show" style="border-top: 1px solid black; border-bottom: 1px solid black;">
                                                <td style="padding: 1px;"><strong>Total</strong></td>
                                                <td style="padding: 1px;"><strong><span t-field="o.amount_untaxed">0.00</span></strong></td>
                                            </tr>
                                        
                                        </table>
                                    </div>
                                </div>
                                      <!-- Bank Details -->
                                <div style="margin-top: 20px;">
                                    <p style="font-size: 15px; font-weight: bold;">How to pay:</p>
                                    <p style="font-size: 15px;">Bank Deposit</p>

                                    <div style="font-size: 15px; width: 98%;border:1px solid black; padding:10px" border="1">
                                    <span class="m-0" t-field="o.brand_id.bank_account_details"></span>
                                    </div>
                                </div>
                                <!-- Special Notes -->
                                <t t-if="o.notes">
                                    <div class="mt-4">
                                        <strong>Special Note:</strong>
                                        <span t-field="o.notes" />
                                    </div>
                                <hr/>
                                </t>
                        <br/>

                                <!-- Terms & conditions -->
                                <div style="margin-top: 20px; border-top: 1px solid #ddd; padding-top: 10px;">
                                            <strong>Terms and Conditions:</strong>
                                            <t t-if="o.state == 'draft'">
                                                <div t-field="o.terms_conditions" />
                                            </t>
                                            <t t-else="">
                                                <div t-field="o.terms_conditions" />
                                            </t>
                                </div>
        </div>
    </t>
    </t>
</template>

<template id="account.report_invoice_document">
  <t t-call="web.external_layout">
    <t t-call="web.html_container">
            
                <t t-set="o" t-value="o.with_context(lang=lang)" />
                <t t-set="forced_vat" t-value="o.fiscal_position_id.foreign_vat"/> <!-- So that it appears in the footer of the report instead of the company VAT if it's set -->
                <!-- Brand Logo and name -->
                <div class="page" style="font-size: 15px;font-family:Helvetica,Verdana,Arial,sans,Lucida Grande,Calibri;">
                
                <div class="oe_structure"/>
                <div style="position: fixed; top: 0; left: 0; padding: 10px;">
                        <t t-if="o.brand_id">
                            <div style="display: flex; align-items: center; margin-bottom: 20px;">
                                <div>
                                    <img t-att-src="image_data_uri(o.brand_id.logo)" style="max-height: 180px; max-width: 300px;" />
                                </div>
                                <div style="margin-left: 10px;">
                                    <!-- <span t-field="o.brand_id.name" /> -->
                                </div>
                            </div>
                        </t>
                    </div>

                    <div style="position: fixed; top: 38px; right: 0; padding: 10px; text-align: right;">
                        <span t-field="o.brand_id.address" />
                    </div>
                    <br/>
                    <br/>
                    <br/>
                    <br/>
                     <br/>
                    <br/>

                     <div style="display: flex; align-items: center; text-align: center; margin-bottom: 10px; margin-top:130px">
                        <span style="flex: 1; border-bottom: 2px solid black; margin: 0 0;"></span>
                        <t t-if="o.move_type == 'out_refund'">
                            <span style="font-weight: bold; font-size: 30px;">&#160;&#160; CREDIT NOTE &#160;&#160;</span>
                        </t>
                        <t t-else="">
                            <span style="font-weight: bold; font-size: 30px;">&#160;&#160; TAX INVOICE &#160;&#160;</span>
                        </t>
                        <span style="flex: 1; border-bottom: 2px solid black; margin: 0 0;"></span>
                    </div>

                    <h2 style="display:none"></h2>
                <!-- Customer details -->
                   

       <table style="width:100%; border-collapse: collapse;">
                <tr style="border: 1px solid white; padding: 5px;">
                    <td style="width: 60%; vertical-align: top;">
                        <div style="font-size: 15px; margin-bottom: 10px;">
                            <div style="font-weight: bold;">Bill To : </div>
                            <span t-field="o.customer_description"
                                style="font-size: 16px; font-weight: bold; margin-top: 5px;width:100%" />
                            </div>

                        
                    </td>

                    <!-- Right Side: Sale Order Details -->
                    <td style="width: 35%; vertical-align: top;">
                     <table style="width: 100%; border-collapse: collapse; text-align: center;">
                            <tr>
                                <td style="background-color: #666; color: white; padding: 5px; border: 1px solid black; font-weight: bold;">SO #</td>
                                <td style="border: 1px solid black; padding: 5px;"><span t-field="o.invoice_origin">SO0000</span></td>
                            </tr>
                            <tr>
                                <td style="background-color: #666; color: white; padding: 5px; border: 1px solid black; font-weight: bold;">Invoice #</td>
                                <td style="border: 1px solid black; padding: 5px;"><span t-if="o.name != '/'" t-field="o.name">INV/2023/0001</span></td>
                            </tr>
                            <tr t-if="o.invoice_date" name="invoice_date">
                                <td style="background-color: #666; color: white; padding: 5px; border: 1px solid black; font-weight: bold;">Invoice Date</td>
                                <td style="border: 1px solid black; padding: 5px;">
                                    <span t-field="o.formatted_invoice_date" ></span>
                                </td>
                            </tr>
                            <tr t-if="o.invoice_date_due and o.move_type == 'out_invoice' and o.state == 'posted'">
                                <td   style="background-color: #666; color: white; padding: 5px; border: 1px solid black; font-weight: bold;">Due Date</td>
                                <td t-if="o.invoice_date_due and o.move_type == 'out_invoice' and o.state == 'posted'"   style="border: 1px solid black; padding: 5px;">
                                    <div name="due_date">
                                    <span t-field="o.formatted_due_date"></span>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td style="background-color: #666; color: white; padding: 5px; border: 1px solid black; font-weight: bold;">Customers PO #</td>
                                <td style="border: 1px solid black; padding: 5px;"><span t-field="o.reference">PO0000</span></td>
                            </tr>
                            <tr t-if="o.invoice_payment_term_id">
                                <td style="background-color: #666; color: white; padding: 5px; border: 1px solid black; font-weight: bold;">Payment Terms #</td>
                                <td style="border: 1px solid black; padding: 5px;"><span t-field="o.invoice_payment_term_id"></span></td>
                            </tr>
                        </table>
                    </td>
                </tr>
        </table>

        <br/>

        <t t-set="display_discount" t-value="any(l.discount for l in o.invoice_line_ids)"/>
        <!-- Product and Order line table -->
        <table style="border-collapse: collapse; width: 100%;">
        <thead>
            <tr>
                <th  style="background-color: #666; color: white; padding: 10px; border: 1px solid black; font-weight: bold;">#</th>
                <th  style="background-color: #666; color: white; padding: 10px; border: 1px solid black; font-weight: bold;">Product</th>
                <th  style="background-color: #666; color: white; padding: 10px; border: 1px solid black; font-weight: bold;">Item / Description</th>
                <th  style="background-color: #666; color: white; padding: 10px; border: 1px solid black; font-weight: bold;">Tax</th>
                <t t-if="o.discount_amount">
                <th  style="background-color: #666; color: white; padding: 10px; border: 1px solid black; font-weight: bold;">Discount(%)</th>
                </t>
                <th  style="background-color: #666; color: white; padding: 10px; border: 1px solid black; font-weight: bold;">Qty</th>
                <th  style="background-color: #666; color: white; padding: 10px; border: 1px solid black; font-weight: bold;">Rate</th>
                <th  style="background-color: #666; color: white; padding: 10px; border: 1px solid black; font-weight: bold;">Amount</th>
            </tr>
        </thead>
        <tbody class="sale_tbody">
           <t t-set="index" t-value="0"/> 
           <t t-set="lines" t-value="o.invoice_line_ids.sorted(key=lambda l: (-l.sequence, l.date, l.move_name, -l.id), reverse=True)"/>
           <t t-foreach="lines" t-as="line">
           <t t-set="index" t-value="index + 1"/>
                <tr>
                    <td style="border: 1px solid black; padding: 10px;"><t t-out="index"/></td>
                    <td style="border: 1px solid black; padding: 10px;"><span t-field='line.product_id.name'>-</span></td>
                    <td style="border: 1px solid black; padding: 10px;"><span t-field='line.name'>-</span></td>
                    <t t-set="taxes" t-value="', '.join([(tax.invoice_label or tax.name) for tax in line.tax_ids])"/>
                    <td style="border: 1px solid black; padding: 10px;" name="td_taxes" t-attf-class="text-start {{ 'd-none d-md-table-cell' if report_type == 'html' else '' }} {{ 'text-nowrap' if len(taxes) &lt; 10 else '' }}">
                        <span t-out="taxes if taxes else 'N/A'" id="line_tax_ids">Tax 15%</span>
                    </td>
                    <t t-if="o.discount_amount">
                    <td style="border: 1px solid black; padding: 10px;"><span t-field="line.discount">0.00</span></td>
                    </t>
                    <td style="border: 1px solid black; padding: 10px;">
                            <span t-field="line.quantity">0.00</span>
                            <span t-field="line.product_uom_id">units</span>
                    </td>
                    <td style="border: 1px solid black; padding: 10px;"><span t-field="line.price_unit">0.00</span></td>
                    <td style="border: 1px solid black; padding: 10px;"><span t-field="line.price_subtotal">0.00</span></td>
                </tr>
            </t>
        </tbody>
        </table>

        <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-top: 20px; width: 100%;">
    
            <!-- Left Side -->
            <div style="width: 60%;">
                <p style="font-size: 15px;">Thank you for your business!</p>
            </div>

            <!-- Right Side (Total Calculation) -->
            <div style="width: 35%; text-align: right; margin-left: auto;">
                <table style="border-collapse: collapse; font-size: 15px;">
                    <tr>
                        <td style="padding: 5px;">Sub Total</td>
                        <td style="padding: 5px;"><span t-field="o.amount_untaxed">0.00</span></td>
                    </tr>
                     <tr t-if="o.discount_amount">
                        <td style="padding: 5px;">Discount</td>
                        <td style="padding: 5px;"><span t-field="o.discount_amount">0.00</span></td>
                    </tr>
                    <tr>
                        <td style="padding: 5px;">Total Tax (<span t-field="o.amount_tax">0.00</span>)</td>
                        <td style="padding: 5px;">
                            <span t-field="o.amount_tax">0.00</span>
                        </td>
                    </tr>
                    <tr style="border-top: 1px solid black; border-bottom: 1px solid black;">
                        <td style="padding: 1px;"><strong>Total</strong></td>
                        <td style="padding: 1px;"><strong><span t-field="o.amount_total">0.00</span></strong></td>
                    </tr>
                  
                </table>
            </div>
        </div>

        <div style="margin-top: 20px;">
            <p style="font-size: 15px; font-weight: bold;">How to pay:</p>
            <p style="font-size: 15px;">Bank Deposit</p>

            <div style="font-size: 15px; width: 98%;border:1px solid black; padding:10px" border="1">
              <span class="m-0" t-field="o.brand_id.bank_account_details"></span>
            </div>
        </div>

        <t t-if="o.narration">
            <div class="mt-4">
                <strong>Special Note:</strong>
            <div class="text-muted mb-3" t-attf-style="#{'text-align:justify;text-justify:inter-word;' if o.company_id.terms_type != 'html' else ''}" t-if="not is_html_empty(o.narration)" name="comment">
                        <span t-field="o.narration"/>
                    </div>
            </div>
        <hr/>
        </t>
        <t t-if="o.payment_link">
         <div style="margin-top: 20px; border-top: 1px solid #ddd; padding-top: 10px;">
                <strong>Payments Link:</strong>
            <div t-field="o.payment_link" />
        </div>
        <hr/>
        </t>
        <t t-if="o.terms_conditions">
            <div style="margin-top: 20px; border-top: 1px solid #ddd; padding-top: 10px;">
                <strong>Terms and Conditions:</strong>
            <div t-field="o.terms_conditions" />
        </div>
        </t>
       <div id="right-elements" t-attf-class="#{'col-5' if report_type != 'html' else 'col-12 col-md-5'} ms-5 d-inline-block float-end">
                              
                            </div>

        </div>
                
            </t>
            </t>
        </template>

            <template id="l10n_nz.report_invoice_document" inherit_id="account.report_invoice_document" primary="True">
        <xpath expr="//div[hasclass('page')]/h2" position="replace">
            <h2>
               
            </h2>
        </xpath>
    </template>


<template id="purchase.report_purchasequotation_document">
  <t t-call="web.external_layout">
    <t t-call="web.html_container">
    
                <t t-set="o" t-value="o.with_context(lang=o.partner_id.lang)"/>
                <t t-set="forced_vat" t-value="o.fiscal_position_id.foreign_vat"/> <!-- So that it appears in the footer of the report instead of the company VAT if it's set -->
                <div class="page" style="font-size: 15px;font-family:Lato,Helvetica,Verdana,Arial,sans,Lucida Grande,Calibri;">
        <div class="oe_structure"/>
        <div style="position: fixed; top: 0; left: 0; padding: 10px;">
                <t t-if="o.brand_id">
                    <div style="display: flex; align-items: center; margin-bottom: 20px;">
                        <div>
                            <img t-att-src="image_data_uri(o.brand_id.logo)" style="max-height: 180px; max-width: 300px;" />
                        </div>
                        <div style="margin-left: 10px;">
                            <!-- <span t-field="o.brand_id.name" /> -->
                        </div>
                    </div>
                </t>
            </div>
            <div style="position: fixed; top: 38px; right: 0; padding: 10px; text-align: right;margin-bottom: 20px;">
                <span t-field="o.brand_id.address" />
            </div>
            <br/>
            <br/>
            <br/>
            <br/>
            <br/>
            <br/>
            <t t-if="o.state in ['draft', 'sent', 'to approve']">
                <div style="display: flex; align-items: center; text-align: center; margin-bottom: 10px;margin-top:130px">
                    <span style="flex: 1; border-bottom: 2px solid black; margin: 0 0;"></span>
                    <span style="font-weight: bold; font-size: 30px;">&#160;&#160; REQUEST FOR QUOTATION &#160;&#160;</span>
                    <span style="flex: 1; border-bottom: 2px solid black; margin: 0 0;"></span>
                </div>
                </t>
            <t t-if="o.state in ['purchase', 'done']">
                <div style="display: flex; align-items: center; text-align: center; margin-bottom: 10px;margin-top:130px">
                    <span style="flex: 1; border-bottom: 2px solid black; margin: 0 0;"></span>
                    <span style="font-weight: bold; font-size: 30px;">&#160;&#160; PURCHASE ORDER &#160;&#160;</span>
                    <span style="flex: 1; border-bottom: 2px solid black; margin: 0 0;"></span>
                </div>
            </t>
            <t t-if="o.state == 'cancel'">
                <div style="display: flex; align-items: center; text-align: center; margin-bottom: 10px;margin-top:130px">
                    <span style="flex: 1; border-bottom: 2px solid black; margin: 0 0;"></span>
                    <span style="font-weight: bold; font-size: 30px;">&#160;&#160; CANCELLED PURCHASE ORDER &#160;&#160;</span>
                    <span style="flex: 1; border-bottom: 2px solid black; margin: 0 0;"></span>
                </div>
            </t>

                   <!-- Customer details -->
            <div style="font-size: 15px; margin-bottom: 10px;">
            <div style="font-weight: bold;">Bill To : </div>
            <span t-field="o.partner_id"
                 t-options='{"widget": "contact", "fields": ["address", "name", "phone", "vat"], "no_marker": True, "phone_icons": True}'
                style="font-size: 16px; font-weight: bold; margin-top: 5px;width:100%" />
            </div>

                    <div style="display: flex; justify-content: space-between; align-items: flex-start; width: 100%;">
            <div style="width: 60%;">
              <t t-if="o.dest_address_id">
                  
                </t>
           
            </div>

            <!-- Right Side: Sale Order Details -->
            <div style="width: 35%;margin-left: auto;border-collapse: collapse;">
                <table style="width: 100%; border-collapse: collapse; text-align: center;">
                    <tr t-if="o.user_id">
                        <td style="background-color: #666; color: white; padding: 5px; border: 1px solid black; font-weight: bold;">Purchase Representative #</td>
                        <td style="border: 1px solid black; padding: 5px;"><span t-field="o.user_id"></span></td>
                    </tr>
                    <tr t-if="o.name">
                        <td style="background-color: #666; color: white; padding: 5px; border: 1px solid black; font-weight: bold;">PO #</td>
                        <td style="border: 1px solid black; padding: 5px;"><span t-field="o.name"></span></td>
                    </tr>
                    <tr t-if="o.state in ['purchase','done'] and o.date_approve">
                        <td style="background-color: #666; color: white; padding: 5px; border: 1px solid black; font-weight: bold;">Order Date</td>
                        <td style="border: 1px solid black; padding: 5px;">
                            <span  t-field="o.date_approve" ></span>
                        </td>
                    </tr>
                     <tr t-elif="o.date_order">
                        <td   style="background-color: #666; color: white; padding: 5px; border: 1px solid black; font-weight: bold;">Order Deadline</td>
                        <td   style="border: 1px solid black; padding: 5px;">
                              <div t-if="o.date_order" >
                                   <p t-field="o.date_order" class="m-0"/>
                            </div>
                              <div t-elif="o.date_order" >
                                <p t-field="o.date_order" class="m-0"/>
                            </div>
                        </td>
                    </tr>
                    <tr t-if="o.partner_ref">
                        <td style="background-color: #666; color: white; padding: 5px; border: 1px solid black; font-weight: bold;">Ref #</td>
                        <td style="border: 1px solid black; padding: 5px;"><span t-field="o.partner_ref"></span></td>
                    </tr>
                     <tr t-if="o.payment_term_id">
                        <td style="background-color: #666; color: white; padding: 5px; border: 1px solid black; font-weight: bold;">Payment Terms #</td>
                        <td style="border: 1px solid black; padding: 5px;"><span t-field="o.payment_term_id"></span></td>
                    </tr>
                </table>
            </div>
        </div>
        <br/>
         <table style="margin-bottom: 10px;  width: 100%;border-collapse: collapse;">
            <t t-set="valid_fields" t-value="[field for field in o.text_fields if field.text_value]" />
            
            <t t-foreach="valid_fields" t-as="field">
                <tr>
                    <td style="width: 25%; max-width: 350px; background-color: #666; color: white; padding: 12px; border: 1px solid black; font-weight: bold;text-align: left;">
                        <t t-esc="field.text_field" />
                    </td>

                    <td style="width: 75%; max-width: 300px; border: 1px solid black; padding: 12px; text-align: center; word-wrap: break-word;">
                        <t t-esc="field.text_value" />
                    </td>
                </tr>
            </t>
        </table>

        <t t-if="o.checkbox_fields">
                    <table style="margin-bottom:10px;  width: 100%;border-collapse: collapse;">
                        <t t-set="checkbox_count" t-value="len(o.checkbox_fields)" />

                        <t t-foreach="range(0, checkbox_count, 4)" t-as="index">
                            <tr>
                                <t t-if="index &lt; checkbox_count">
                                    <td style="text-align: center;background-color: #666; color: white; padding: 10px; border: 1px solid black; font-weight: bold;">
                                        <t t-esc="o.checkbox_fields[index].checkbox_field" />
                                    </td>
                                </t>
                                <t t-if="index + 1 &lt; checkbox_count">
                                    <td style="text-align: center;background-color: #666; color: white; padding: 10px; border: 1px solid black; font-weight: bold;">
                                        <t t-esc="o.checkbox_fields[index + 1].checkbox_field" />
                                    </td>
                                </t>
                                <t t-if="index + 2 &lt; checkbox_count">
                                    <td style="text-align: center;background-color: #666; color: white; padding: 10px; border: 1px solid black; font-weight: bold;">
                                        <t t-esc="o.checkbox_fields[index + 2].checkbox_field" />
                                    </td>
                                </t>
                                <t t-if="index + 3 &lt; checkbox_count">
                                    <td style="text-align: center;background-color: #666; color: white; padding: 10px; border: 1px solid black; font-weight: bold;">
                                        <t t-esc="o.checkbox_fields[index + 3].checkbox_field" />
                                    </td>
                                </t>
                            </tr>
                            <tr>
                                <!-- Checkbox Values -->
                                <t t-if="index &lt; checkbox_count">
                                    <td style="width: 250px; max-width: 250px; border: 1px solid black; padding: 10px; text-align: center; word-wrap: break-word;">
                                        <t t-if="o.checkbox_fields[index].checkbox_value">YES</t>
                                        <t t-else="">NO</t>
                                    </td>
                                </t>
                                <t t-if="index + 1 &lt; checkbox_count">
                                    <td style="width: 250px; max-width: 250px; border: 1px solid black; padding: 10px; text-align: center; word-wrap: break-word;">
                                        <t t-if="o.checkbox_fields[index + 1].checkbox_value">YES</t>
                                        <t t-else="">NO</t>
                                    </td>
                                </t>
                                <t t-if="index + 2 &lt; checkbox_count">
                                    <td style="width: 250px; max-width: 250px; border: 1px solid black; padding: 10px; text-align: center; word-wrap: break-word;">
                                        <t t-if="o.checkbox_fields[index + 2].checkbox_value">YES</t>
                                        <t t-else="">NO</t>
                                    </td>
                                </t>
                                <t t-if="index + 3 &lt; checkbox_count">
                                    <td style="width: 250px; max-width: 250px; border: 1px solid black; padding: 10px; text-align: center; word-wrap: break-word;">
                                        <t t-if="o.checkbox_fields[index + 3].checkbox_value">YES</t>
                                        <t t-else="">NO</t>
                                    </td>
                                </t>
                            </tr>
                        </t>
                    </table>
                </t>

                <t t-if="o.selection_fields">
                    <table style="margin-bottom:10px; width: 100%;border-collapse: collapse;">
                        <t t-set="selection_count" t-value="len(o.selection_fields)" />
                                <t t-foreach="range(0, selection_count, 4)" t-as="index">
                                    <tr>
                                        <t t-if="index &lt; selection_count and o.selection_fields[index].selected_value.value_field">
                                            <td style="text-align: center;background-color: #666; color: white; padding: 10px; border: 1px solid black; font-weight: bold;">
                                                <t t-esc="o.selection_fields[index].selection_field" />
                                            </td>
                                        </t>
                                        <t t-if="index + 1 &lt; selection_count and o.selection_fields[index + 1].selected_value.value_field">
                                            <td style="text-align: center;background-color: #666; color: white; padding: 10px; border: 1px solid black; font-weight: bold;">
                                                <t t-esc="o.selection_fields[index + 1].selection_field" />
                                            </td>
                                        </t>
                                        <t t-if="index + 2 &lt; selection_count and o.selection_fields[index + 2].selected_value.value_field">
                                            <td style="text-align: center;background-color: #666; color: white; padding: 10px; border: 1px solid black; font-weight: bold;">
                                                <t t-esc="o.selection_fields[index + 2].selection_field" />
                                            </td>
                                        </t>
                                        <t t-if="index + 3 &lt; selection_count and o.selection_fields[index + 3].selected_value.value_field">
                                            <td style="text-align: center;background-color: #666; color: white; padding: 10px; border: 1px solid black; font-weight: bold;">
                                                <t t-esc="o.selection_fields[index + 3].selection_field" />
                                            </td>
                                        </t>
                                    </tr>
                                    <tr>
                                        <t t-if="index &lt; selection_count and o.selection_fields[index].selected_value.value_field">
                                            <td style="width: 250px; max-width: 250px; border: 1px solid black; padding: 10px; text-align: center; word-wrap: break-word;">
                                                <t t-esc="o.selection_fields[index].selected_value.value_field" />
                                            </td>
                                        </t>
                                        <t t-if="index + 1 &lt; selection_count and o.selection_fields[index + 1].selected_value.value_field">
                                            <td style="width: 250px; max-width: 250px; border: 1px solid black; padding: 10px; text-align: center; word-wrap: break-word;">
                                                <t t-esc="o.selection_fields[index + 1].selected_value.value_field" />
                                            </td>
                                        </t>
                                        <t t-if="index + 2 &lt; selection_count and o.selection_fields[index + 2].selected_value.value_field">
                                            <td style="width: 250px; max-width: 250px; border: 1px solid black; padding: 10px; text-align: center; word-wrap: break-word;">
                                                <t t-esc="o.selection_fields[index + 2].selected_value.value_field" />
                                            </td>
                                        </t>
                                        <t t-if="index + 3 &lt; selection_count and o.selection_fields[index + 3].selected_value.value_field">
                                            <td style="width: 250px; max-width: 250px; border: 1px solid black; padding: 10px; text-align: center; word-wrap: break-word;">
                                                <t t-esc="o.selection_fields[index + 3].selected_value.value_field" />
                                            </td>
                                        </t>
                                    </tr>
                                </t>
                            </table>
                        </t>

                        <table style="border-collapse: collapse; width: 100%;">
                            <thead>
                                <tr>
                                    <th  style="background-color: #666; color: white; padding: 10px; border: 1px solid black; font-weight: bold;">#</th>
                                    <th  style="background-color: #666; color: white; padding: 10px; border: 1px solid black; font-weight: bold;">Product</th>
                                    <th  style="background-color: #666; color: white; padding: 10px; border: 1px solid black; font-weight: bold;">Item / Description</th>
                                    <t t-if="o.brand_id.is_tax_show">
                                    <th  style="background-color: #666; color: white; padding: 10px; border: 1px solid black; font-weight: bold;">Tax</th>
                                    </t>
                                    <th  style="background-color: #666; color: white; padding: 10px; border: 1px solid black; font-weight: bold;">Qty</th>
                                    <th  style="background-color: #666; color: white; padding: 10px; border: 1px solid black; font-weight: bold;">Rate</th>
                                    <th  style="background-color: #666; color: white; padding: 10px; border: 1px solid black; font-weight: bold;">Amount</th>
                                </tr>
                            </thead>
                            <tbody class="sale_tbody">
                            <t t-set="index" t-value="0"/> 
                            <t t-foreach="o.order_line" t-as="line">
                            <t t-set="index" t-value="index + 1"/>
                                    <tr t-att-class="'bg-200 fw-bold o_line_section' if line.display_type == 'line_section' else 'fst-italic o_line_note' if line.display_type == 'line_note' else ''">
                                        <td style="border: 1px solid black; padding: 10px;"><t t-out="index"/></td>
                                        <td style="border: 1px solid black; padding: 10px;"><span t-field='line.product_id.name'>-</span></td>
                                        <td style="border: 1px solid black; padding: 10px;"><span t-field='line.name'>-</span></td>
                                        <t t-if="o.brand_id.is_tax_show">
                                        <t t-set="taxes" t-value="', '.join([(tax.invoice_label or tax.name) for tax in line.taxes_id])"/>
                                        <td style="border: 1px solid black; padding: 10px;" name="td_taxes" t-attf-class="text-end {{ 'text-nowrap' if len(taxes) &lt; 10 else '' }}">
                                            <span t-out="taxes">Tax 15%</span>
                                        </td>
                                        </t> 
                                        <td style="border: 1px solid black; padding: 10px;">
                                                    <span t-field="line.product_qty"/>
                                                        <span t-field="line.product_uom.name" groups="uom.group_uom"/>
                                                        <span t-if="line.product_packaging_id">
                                                            (<span t-field="line.product_packaging_qty" t-options='{"widget": "integer"}'/> <span t-field="line.product_packaging_id"/>)
                                                        </span>
                                        </td>
                                        <td style="border: 1px solid black; padding: 10px;"><span t-field="line.price_unit">0.00</span></td>
                                        <td style="border: 1px solid black; padding: 10px;"><span t-field="line.price_subtotal">0.00</span></td>
                                    </tr>
                                </t>
                            </tbody>
                            </table>

                            <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-top: 20px; width: 100%;">
    
                                <!-- Left Side -->
                                <div style="width: 60%;">
                                    <p style="font-size: 15px;">Thank you for your business!</p>
                                </div>

                                <!-- Right Side (Total Calculation) -->
                                <div style="width: 35%; text-align: right; margin-left: auto;">
                                        <table style="border-collapse: collapse; font-size: 15px;">
                                            <tr>
                                                <td style="padding: 5px;">Sub Total</td>
                                                <td style="padding: 5px;"><span t-field="o.amount_untaxed">0.00</span></td>
                                            </tr>
                                            <tr t-if="o.brand_id.is_tax_show">
                                                <td style="padding: 5px;">Total Tax (<span t-field="o.amount_tax">0.00</span>)</td>
                                                <td style="padding: 5px;">
                                                    <span t-field="o.amount_tax">0.00</span>
                                                </td>
                                            </tr>
                                            <tr t-if="o.brand_id.is_tax_show" style="border-top: 1px solid black; border-bottom: 1px solid black;">
                                                <td style="padding: 1px;"><strong>Total</strong></td>
                                                <td style="padding: 1px;"><strong><span t-field="o.amount_total">0.00</span></strong></td>
                                            </tr>
                                            <tr t-if="not o.brand_id.is_tax_show" style="border-top: 1px solid black; border-bottom: 1px solid black;">
                                                <td style="padding: 1px;"><strong>Total</strong></td>
                                                <td style="padding: 1px;"><strong><span t-esc="o.amount_untaxed">0.00</span></strong></td>
                                            </tr>
                                        
                                        </table>
                                    </div>
                                </div>
                                      <!-- Bank Details -->
                                <div style="margin-top: 20px;">
                                    <p style="font-size: 15px; font-weight: bold;">How to pay:</p>
                                    <p style="font-size: 15px;">Bank Deposit</p>

                                    <div style="font-size: 15px; width: 98%;border:1px solid black; padding:10px" border="1">
                                    <span class="m-0" t-field="o.brand_id.bank_account_details"></span>
                                    </div>
                                </div>
                                <!-- Special Notes -->
                                <t t-if="o.notes">
                                    <div class="mt-4">
                                        <strong>Special Note:</strong>
                                        <span t-field="o.notes" />
                                    </div>
                                <hr/>
                                </t>
                        <br/>

                                <!-- Terms & conditions -->
                                <div style="margin-top: 20px; border-top: 1px solid #ddd; padding-top: 10px;">
                                            <strong>Terms and Conditions:</strong>
                                            <t t-if="o.state == 'draft'">
                                                <div t-field="o.terms_conditions" />
                                            </t>
                                            <t t-else="">
                                                <div t-field="o.terms_conditions" />
                                            </t>
                                </div>
        </div>
            </t>
            </t>
    </template>

<template id="mail.mail_notification_layout" name="Mail: mail notification layout template" >
                    <html t-att-lang="lang">
                    <head>
                        <meta http-equiv="Content-Type" content="text/html charset=UTF-8"/>
                    </head>
                    <body style="font-family:Verdana, Arial,sans-serif; color: #454748;">
                    <t t-set="subtype_internal" t-value="subtype and subtype.internal"/>
                    <!-- HEADER -->
                    <t t-call="mail.notification_preview"/>
                    <div style="max-width: 900px; width: 100%;">
                    <div t-if="has_button_access" itemscope="itemscope" itemtype="http://schema.org/EmailMessage">
                        <div itemprop="potentialAction" itemscope="itemscope" itemtype="http://schema.org/ViewAction">
                            <link itemprop="target" t-att-href="button_access['url']"/>
                            <link itemprop="url" t-att-href="button_access['url']"/>
                            <meta itemprop="name" t-att-content="button_access['title']"/>
                        </div>
                    </div>
                    <div t-if="subtitles or has_button_access or actions or not is_discussion" summary="o_mail_notification" style="padding: 0px;">
                        <table role="presentation" cellspacing="0" cellpadding="0" border="0" style="width: 100%; margin-top: 5px;">
                            <tbody>
                                <tr>
                                 <td valign="center" t-if="company">
                                    <!-- <strong><t t-esc="company.name"/></strong> -->
                                </td>


                                </tr>
                                <tr>
                                    <td valign="center">
                                        <hr width="100%" style="background-color:rgb(204,204,204);border:medium none;clear:both;display:block;font-size:0px;min-height:1px;line-height:0; margin: 10px 0px;"/>
                                    </td>
                                </tr>
                                <tr>
                                    <td valign="center" style="white-space:nowrap;">
                                        <table cellspacing="0" cellpadding="0" border="0">
                                            <tbody>
                                                <tr>
                                                    <td t-if="has_button_access" t-att-style="'border-radius: 3px; text-align: center; background: ' + (company.email_secondary_color or '#875A7B') + ';'">
                                                       <a t-att-href="button_access['url']" style="font-size: 12px; color: #FFFFFF; display: block; padding: 8px 12px 11px; text-decoration: none !important; font-weight: 400;">
                                                           <t t-out="button_access['title']"/>
                                                       </a>
                                                    </td>
                                                    <td t-if="has_button_access">&amp;nbsp;&amp;nbsp;</td>

                                                    <!--<td t-if="actions">-->
                                                    <!--    <t t-foreach="actions" t-as="action">-->
                                                    <!--        <a t-att-href="action['url']" t-att-style="'font-size: 12px; color: ' + (company.email_secondary_color or '#875A7B')+ '; text-decoration:none !important;'">-->
                                                    <!--            <t t-out="action['title']"/>-->
                                                    <!--        </a>-->
                                                    <!--        &amp;nbsp;&amp;nbsp;-->
                                                    <!--    </t>-->
                                                    <!--</td>-->
                                                    <td t-if="subtitles" style="font-size: 12px;">
                                                        <t t-foreach="subtitles" t-as="subtitle">
                                                            <span t-attf-style="{{ 'font-weight:bold;' if subtitle_first else '' }}" t-out="subtitle"/>
                                                            <br t-if="not subtitle_last"/>
                                                        </t>
                                                    </td>
                                                    <!-- <td t-else=""><span style="font-weight:bold;" t-out="record_name"/><br/></td> -->

                                                </tr>
                                            </tbody>
                                        </table>
                                    </td>
                                </tr>
                                <tr>
                                    <td valign="center">
                                        <hr width="100%" style="background-color:rgb(204,204,204);border:medium none;clear:both;display:block;font-size:0px;min-height:1px;line-height:0;margin: 10px 0px;"/>
                                        <p t-if="subtype_internal" style="background-color: #f2dede; padding: 5px; margin-bottom: 16px; font-size: 13px;">
                                            <strong>Internal communication</strong>: Replying will post an internal note. Followers won't receive any email notification.
                                        </p>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <!-- CONTENT -->
                    <div t-out="message.body" style="font-size: 13px;"/>
                    <ul t-if="tracking_values">
                        <t t-foreach="tracking_values" t-as="tracking">
                            <li><t t-out="tracking[0]"/>: <t t-out="tracking[1]"/>  <t t-out="tracking[2]"/></li>
                        </t>
                    </ul>
                    <t class="o_signature">
                        <div t-if="email_add_signature and not is_html_empty(signature)" t-out="signature" style="font-size: 13px;"/>
                    </t>
                    <!-- FOOTER -->
                    <!-- <div style="margin-top:32px;">
                        <hr width="100%" style="background-color:rgb(204,204,204);border:medium none;clear:both;display:block;font-size:0px;min-height:1px;line-height:0; margin: 16px 0px 4px 0px;"/>
                        <b t-out="company.name" style="font-size:11px;"/><br/>
                        <p style="color: #999999; margin-top:2px; font-size:11px;">
                            <t t-out="company.phone"/>
                            <t t-if="company.email and company.phone"> |</t>
                            <a t-if="company.email" t-att-href="'mailto:%s' % company.email" style="text-decoration:none; color: #999999;" t-out="company.email"/>
                            <t t-if="company.website and (company.phone or company.email)"> |</t>
                            <a t-if="company.website" t-att-href="'%s' % company.website" style="text-decoration:none; color: #999999;" t-out="company.website"/>
                        </p>
                    </div> -->
                    <div style="color: #555555; font-size:11px;">
                        <!--Powered by <a target="_blank" href="https://www.odoo.com?utm_source=db&amp;utm_medium=email" t-att-style="'color: ' + (company.email_secondary_color or '#875A7B') + ';'">Odoo</a>-->
                        <span id="mail_unfollow">
                            | <a href="/mail/unfollow" style="text-decoration:none; color:#555555;">Unfollow</a>
                        </span>
                    </div>
                    </div>
                    </body></html>
    </template>

     <template id="web.external_layout_standard">
            <div t-attf-class="header o_company_#{company.id}_layout" t-att-style="report_header_style">
                    <!-- <div class="o_boxed_header">
                    <div class="row mb8">
                        <div class="col-6">
                            <img t-if="company.logo" t-att-src="image_data_uri(company.logo)" alt="Logo"/>
                        </div>
                        <div class="col-6 text-end mb4">
                            <div class="mt0 h4" t-if="company.report_header" t-field="company.report_header">Company tagline</div>
                            <div name="company_address" class="float-end mb4">
                                <ul class="list-unstyled" name="company_address_list">
                                    <li t-if="company.is_company_details_empty"><span t-field="company.partner_id" t-options="{&quot;widget&quot;: &quot;contact&quot;, &quot;fields&quot;: [&quot;address&quot;, &quot;name&quot;], &quot;no_marker&quot;: true}">
                                        <div class="bg-light border-1 rounded h-100 d-flex flex-column align-items-center justify-content-center p-4 w-100 opacity-75 text-muted text-center">
                                            <strong>Company address block</strong>
                                            <div>Contains the company address.</div>
                                        </div>
                                    </span></li>
                                    <li t-else="">
                                        <span t-field="company.company_details">
                                            <div class="bg-light border-1 rounded h-100 d-flex flex-column align-items-center justify-content-center p-4 w-100 opacity-75 text-muted text-center">
                                                <strong>Company details block</strong>
                                                <div>Contains the company details.</div>
                                            </div>
                                        </span>
                                    </li>
                                    <li t-if="not forced_vat"/>
                                    <li t-else="">
                                        <t t-esc="company.country_id.vat_label or 'Tax ID'">Tax ID</t>:
                                        <span t-esc="forced_vat">US12345671</span>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    </div> -->
                </div>

        <div t-attf-class="article o_report_layout_standard o_company_#{company.id}_layout {{  'o_report_layout_background' if company.layout_background in ['Geometric', 'Custom']  else  '' }}" t-attf-style="background-image: url({{ 'data:image/png;base64,%s' % company.layout_background_image.decode('utf-8') if company.layout_background_image and company.layout_background == 'Custom' else '/base/static/img/bg_background_template.jpg' if company.layout_background == 'Geometric' else ''}});" t-att-data-oe-model="o and o._name" t-att-data-oe-id="o and o.id" t-att-data-oe-lang="o and o.env.context.get('lang')">
            <div class="pt-5">
                <!-- This div ensures that the address is not cropped by the header. -->
                <t t-call="web.address_layout"/>
            </div>
            <t t-out="0"/>
        </div>

        <div t-attf-class="footer o_standard_footer o_company_#{company.id}_layout">
            <!-- <div class="text-center" style="border-top: 1px solid black;">
                <ul class="list-inline mb4">
                    <div t-field="company.report_footer"/>
                </ul>

                <div t-if="report_type == 'pdf'" class="text-muted">
                    Page: <span class="page"/> / <span class="topage"/>
                </div>
                <div t-if="report_type == 'pdf' and display_name_in_footer" class="text-muted">
                    <span t-out="o.name">(document name)</span>
                </div>
            </div> -->
        </div>
    </template>

  <template id="survey.survey_page_print" name="Survey: print page">
    <t t-call="web.external_layout">
        <t t-set="survey_form_readonly" t-value="true"/>

        <!-- ================= HEADER ================= -->
       <div style="border-bottom: 3px solid #000; padding: 10px 0 15px 0; margin-bottom: 25px;">
            <table style="width:100%; border-collapse: collapse;">
                <tr>
                    <!-- Left: Company Logo -->
                    <td style="width: 25%; text-align: left; vertical-align: middle;">
                        <t t-if="company_logo">
                            <img t-att-src="'data:image/png;base64,%s' % (company_logo.decode())"
                                style="max-height: 90px; max-width: 220px; object-fit: contain;" />
                        </t>
                    </td>

                    <!-- Center: Company Name -->
                    <td style="width: 50%; text-align: center; vertical-align: middle;">
                        <h2 style="margin: 0; font-size: 26px; color: #1a1a1a; font-weight: 700; text-transform: uppercase;">
                            <t t-esc="company_name"/>
                        </h2>
                        <p style="margin: 0; color: #555; font-size: 14px; font-style: italic;">Survey Report</p>
                    </td>

                    <!-- Right: Print Info -->
                    <td style="width: 25%; text-align: right; vertical-align: middle; font-size: 13px; color: #333; line-height: 1.4;">
                        <div><strong>Date:</strong> <span t-esc="print_date"/></div>
                        <div><strong>Generated by:</strong> <t t-esc="user.name"/></div>
                    </td>
                </tr>
            </table>
        </div>



        <!-- ================= SURVEY INFO ================= -->
        <div class="wrap o_survey_print o_container_small"
             style="font-family: 'Roboto', sans-serif; line-height: 1.6;">
            <div class="survey_intro" style="text-align: center; margin-bottom: 40px;">
                <h1 style="color: #2b2b2b; font-size: 28px; font-weight: 600;">
                    <span t-field="survey.title" class="text-break"/>
                </h1>
                <t t-if="survey.description">
                    <p t-field="survey.description"
                       class="oe_no_empty text-break"
                       style="color: #666; font-size: 15px; margin-top: 10px;"/>
                </t>
            </div>

            <!-- ================= GRAPH DATA ================= -->
            <t t-if="graph_data">
                <div class="o_survey_result row p-4" style="margin-bottom: 40px;">
                    <div t-if="survey.page_ids"
                         class="survey_graph col-lg-6 d-none d-md-block"
                         data-graph-type="by_section"
                         t-att-data-graph-data="graph_data">
                        <canvas id="by_section_chart"></canvas>
                    </div>
                    <div t-attf-class="survey_graph col-lg-6 #{'offset-lg-3' if not survey.page_ids else ''}"
                         data-graph-type="doughnut"
                         t-att-data-graph-data="graph_data">
                        <canvas id="doughnut_chart"></canvas>
                    </div>
                </div>
            </t>

            <!-- ================= QUESTIONS SECTION ================= -->
            <div>
                <fieldset disabled="disabled" style="border: none;">
                    <t t-foreach="survey.question_and_page_ids" t-as="question">
                        <!-- PAGE HEADERS -->
                        <t t-if="question.is_page and (any(q in questions_to_display for q in question.question_ids) or question.description)">
                            <hr t-if="question != survey.page_ids[0]"
                                style="border: 0; border-top: 1px solid #ccc; margin: 40px 0;"/>
                            <div class="o_page_header mb-5">
                                <h2 t-field="question.title"
                                    style="font-size: 22px; color: #222; font-weight: 600;"/>
                                <t t-if="question.description">
                                    <div t-field="question.description"
                                         class="oe_no_empty"
                                         style="font-size: 14px; color: #555; margin-top: 5px;"/>
                                </t>
                            </div>
                        </t>

                        <!-- QUESTIONS -->
                        <t t-if="not question.is_page and not answer or (question in answer.predefined_question_ids &amp; questions_to_display)">
                            <t t-set="answer_lines"
                               t-value="answer.user_input_line_ids.filtered(lambda line: line.question_id == question)"/>
                            <div class="question-block"
                                 t-att-id="question.id"
                                 style="margin-bottom: 25px; border: 1px solid #ddd; border-radius: 10px; padding: 20px; background-color: #f9f9f9;">
                                <h3 style="font-size: 18px; color: #333; font-weight: 500;">
                                    <span t-field="question.title" class="text-break"/>
                                    <span t-if="question.constr_mandatory" class="text-danger">*</span>
                                </h3>
                                <t t-if="question.description">
                                    <div class="text-muted"
                                         t-field="question.description"
                                         style="font-size: 14px; color: #777; margin-bottom: 10px;"/>
                                </t>
                                <t t-if="question.question_type in ['numerical_box', 'date', 'datetime', 'text_box', 'char_box']">
                                    <t t-if="answer_lines">
                                        <t t-set="answer_line" t-value="answer_lines[0]"/>
                                        <t t-if="answer_line.skipped">
                                            <div style="color: #ff9800; font-style: italic;">Skipped</div>
                                        </t>
                                        <t t-else="">
                                            <t t-if="question.question_type == 'text_box'" t-call="survey.question_text_box"/>
                                            <t t-if="question.question_type == 'char_box'" t-call="survey.question_char_box"/>
                                            <t t-if="question.question_type == 'numerical_box'" t-call="survey.question_numerical_box"/>
                                            <t t-if="question.question_type == 'date'" t-call="survey.question_date"/>
                                            <t t-if="question.question_type == 'datetime'" t-call="survey.question_datetime"/>
                                        </t>
                                    </t>
                                </t>
                                <t t-if="question.question_type == 'simple_choice'" t-call="survey.question_simple_choice"/>
                                <t t-if="question.question_type == 'multiple_choice'" t-call="survey.question_multiple_choice"/>
                                <t t-if="question.question_type == 'matrix'" t-call="survey.question_matrix"/>
                            </div>
                        </t>
                    </t>
                </fieldset>
            </div>
        </div>

        <!-- ================= FOOTER ================= -->
        <div class="o_survey_footer"
             style="text-align: center; color: #888; font-size: 12px; margin-top: 40px;">
            <span>
                Generated by <strong><t t-esc="company_name"/></strong> |
                 <t t-esc="(datetime.datetime.now()).year"/>
            </span>
        </div>
    </t>
</template>


<template id="report_employment_certificate">
    <t t-call="web.html_container">

        <t t-foreach="docs" t-as="o">

            <!-- ================= COMPANY ================= -->
            <t t-set="company" t-value="o.project_id.company_id or env.company"/>

            <!-- ================================================= -->
            <!-- COVER PAGE -->
            <!-- ================================================= -->
            <div class="page" style="text-align:center; padding-top:30px;">

                <div style="margin-bottom:20px;">
                    <img t-if="company.logo"
                         t-att-src="image_data_uri(company.logo)"
                         style="max-height:260px; max-width:260px;"/>
                </div>

                <div style="font-size:38px; font-weight:700; color:#9c9c9c;">
                    <t t-esc="company.name"/>
                </div>

                <div style="height:35px;"></div>

                <div style="font-size:36px; font-weight:700;">
                    <t t-esc="o.survey_id.display_name"/>
                </div>

                <div style="margin-top:8px; font-size:26px;">
                    Installation / Removal of Shrinkwrap
                </div>

                <div style="height:40px;"></div>

                <table style="width:75%; margin:0 auto; font-size:18px; text-align:left;">
                    <tr>
                        <td style="width:40%; font-weight:700;">Job / Site Name &amp; Location:</td>
                        <td><t t-esc="o.project_id.name"/></td>
                    </tr>
                    <tr>
                        <td style="font-weight:700;">PCBU-1 Details:</td>
                        <td>Geeves Scaffolding - University of Otago</td>
                    </tr>
                    <tr>
                        <td style="font-weight:700;">PCBU-2 Details:</td>
                        <td>
                            <t t-esc="company.name"/><br/>
                            Manager - <t t-esc="company.partner_id.name"/><br/>
                            M: <t t-esc="company.phone"/><br/>
                            E: <t t-esc="company.email"/>
                        </td>
                    </tr>
                </table>

            </div>

            <!-- COVER  GROUPS -->
            <div style="page-break-before: always;"></div>

            <!-- ================================================= -->
            <!-- GROUPS -->
            <!-- ================================================= -->

            <t t-set="section_no" t-value="1"/>

            <t t-foreach="grouped_data" t-as="grp" t-index="grp_index">

                <!-- EACH GROUP STARTS ON NEW PAGE -->
                <div class="page" style="font-family:Arial, sans-serif;">

                    <!-- GROUP TITLE -->
                    <div style="margin-top:20px;">
                        <div style="
                            font-size:26px;
                            font-weight:700;
                            color:#1c1c5a;
                        ">
                            <t t-esc="section_no"/>. <t t-esc="grp['group_name']"/>
                        </div>

                        <div style="
                            width:100%;
                            height:2px;
                            background:#1c1c5a;
                            margin-top:6px;
                        "></div>
                    </div>

                    <t t-set="section_no" t-value="section_no + 1"/>

                    <!-- HEADING LOOP -->
                    <t t-foreach="grp['headings']" t-as="head">

                        <div style="
                            margin-top:26px;
                            font-size:20px;
                            font-weight:600;
                            color:#333;
                            border-bottom:1px solid #ccc;
                            padding-bottom:6px;
                            page-break-inside: avoid;
                        ">
                            <t t-esc="head['heading_name']"/>
                        </div>

                        <!-- QUESTION LOOP -->
                        <t t-foreach="head['questions']" t-as="q">

                            <div style="
                                margin-top:18px;
                                padding:14px;
                                border:1px solid #ddd;
                                border-radius:6px;
                                background:#ffffff;
                                page-break-inside: avoid;
                                break-inside: avoid;
                            ">

                                <!-- QUESTION TITLE -->
                                <div style="font-size:15px; font-weight:600;">
                                    <t t-esc="q['question_title']"/>
                                </div>

                                <!-- SUBTITLE -->
                                <t t-if="q['subtitle']">
                                    <div style="font-size:13px; color:#f58220; margin-top:4px;">
                                        <t t-esc="q['subtitle']"/>
                                    </div>
                                </t>

                                <!-- DESCRIPTION -->
                                <t t-if="q['description']">
                                    <div style="font-size:12px; color:#666; margin-top:4px;">
                                        <t t-esc="q['description']"/>
                                    </div>
                                </t>

                                <!-- ANSWER BOX -->
                                <div style="
                                    margin-top:10px;
                                    padding:12px;
                                    background:#f4f6f8;
                                    border:1px solid #1c1c5a;
                                    border-radius:5px;
                                ">

                                <!-- TABLE QUESTION (PDF SAFE) -->
                                <t t-if="q['question_type'] == 'table'">

                                    <div style="
                                        border:2px solid #2b2f77;
                                        border-radius:6px;
                                        padding:12px;
                                        background:#f9fafc;
                                        margin-top:10px;
                                        overflow-x:auto;
                                    ">

                                        <table style="
                                            width:100%;
                                            border-collapse:collapse;
                                            font-size:14px;
                                            text-align:center;
                                        ">

                                            <!-- HEADER -->
                                            <tr>
                                                <th style="
                                                    border:1px solid #1c1c5a;
                                                    padding:8px;
                                                    background:#e8ebf8;
                                                    text-align:left;
                                                ">
                                                    
                                                </th>

                                                <t t-foreach="q['answers']['table_columns']" t-as="col">
                                                    <th style="
                                                        border:1px solid #1c1c5a;
                                                        padding:8px;
                                                        background:#e8ebf8;
                                                    ">
                                                        <t t-esc="col['column_name']"/>
                                                    </th>
                                                </t>
                                            </tr>

                                            <!-- ROWS -->
                                            <t t-foreach="q['answers']['table_rows']" t-as="row">
                                                <tr>
                                                    <!-- Row Label -->
                                                    <td style="
                                                        border:1px solid #ccc;
                                                        padding:8px;
                                                        text-align:left;
                                                        font-weight:600;
                                                        background:#f4f6f8;
                                                    ">
                                                        Row <t t-esc="row['row_no']"/>
                                                    </td>

                                                    <!-- Cells -->
                                                    <t t-foreach="q['answers']['table_columns']" t-as="col">
                                                        <td style="
                                                            border:1px solid #ccc;
                                                            padding:8px;
                                                        ">
                                                            <t t-esc="row['cells'].get(col['column_no'], '')"/>
                                                        </td>
                                                    </t>
                                                </tr>
                                            </t>

                                        </table>

                                    </div>
                                </t>


                                <!-- MATRIX QUESTION (PDF SAFE) -->
                                <t t-if="q['question_type'] == 'matrix'">

                                    <div style="
                                        border:2px solid #2b2f77;
                                        border-radius:6px;
                                        padding:14px;
                                        background:#f9fafc;
                                        margin-top:8px;
                                    ">

                                        <table style="
                                            width:100%;
                                            border-collapse:collapse;
                                            font-size:14px;
                                        ">

                                            <!-- HEADER -->
                                            <tr>
                                                <th style="
                                                    text-align:left;
                                                    padding:8px;
                                                    border-bottom:2px solid #1c1c5a;
                                                ">
                                                    <!-- Empty corner -->
                                                </th>

                                                <t t-foreach="q['answers']['matrix_columns']" t-as="col">
                                                    <th style="
                                                        text-align:center;
                                                        padding:8px;
                                                        border-bottom:2px solid #1c1c5a;
                                                        font-weight:600;
                                                        color:#1c1c5a;
                                                    ">
                                                        <t t-esc="col['label']"/>
                                                    </th>
                                                </t>
                                            </tr>

                                            <!-- ROWS -->
                                            <t t-foreach="q['answers']['matrix_rows']" t-as="row">

                                                <tr>

                                                    <!-- ROW LABEL -->
                                                    <td style="
                                                        padding:8px;
                                                        border-bottom:1px solid #ddd;
                                                        font-weight:500;
                                                        color:#333;
                                                        width:30%;
                                                    ">
                                                        <t t-esc="row['label']"/>
                                                    </td>

                                                    <!-- CELLS -->
                                                    <t t-foreach="row['columns']" t-as="cell">
                                                        <td style="
                                                            padding:8px;
                                                            border-bottom:1px solid #ddd;
                                                            text-align:center;
                                                        ">

                                                            <!-- RADIO BOX -->
                                                            <table style="
                                                                width:16px;
                                                                height:16px;
                                                                margin:auto;
                                                                border:2px solid #1c1c5a;
                                                                border-radius:50%;
                                                                background:#fff;
                                                            ">
                                                                <tr>
                                                                    <td style="text-align:center; vertical-align:middle;">
                                                                        <t t-if="cell['selected']">
                                                                            <div style="
                                                                                width:8px;
                                                                                height:8px;
                                                                                background:#1c1c5a;
                                                                                border-radius:50%;
                                                                                margin:auto;
                                                                            "></div>
                                                                        </t>
                                                                    </td>
                                                                </tr>
                                                            </table>

                                                        </td>
                                                    </t>

                                                </tr>

                                            </t>

                                        </table>

                                    </div>
                                </t>


                              <!-- MULTIPLE CHOICE (PDF SAFE - FIXED UI) -->
                                <t t-if="q['question_type'] == 'multiple_choice'">

                                    <!-- OUTER BOX -->
                                    <div style="
                                        border:2px solid #2b2f77;
                                        border-radius:6px;
                                        padding:14px;
                                        background:#f9fafc;
                                        margin-top:8px;
                                    ">

                                        <t t-foreach="q['answers']['multiple_choice_options']" t-as="opt">

                                            <!-- OPTION ROW -->
                                            <table style="width:100%; border-collapse:collapse; margin-bottom:12px;">
                                                <tr>

                                                    <!-- CHECKBOX CELL -->
                                                    <td style="width:22px; vertical-align:middle;">
                                                        <table style="
                                                            width:18px;
                                                            height:18px;
                                                            border:2px solid #1c1c5a;
                                                            background:#fff;
                                                        ">
                                                            <tr>
                                                                <td style="text-align:center; vertical-align:middle;">
                                                                    <t t-if="opt['selected']">
                                                                        <!-- FILLED SQUARE -->
                                                                        <div style="
                                                                            width:10px;
                                                                            height:10px;
                                                                            background:#1c1c5a;
                                                                            margin:auto;
                                                                        "></div>
                                                                    </t>
                                                                </td>
                                                            </tr>
                                                        </table>
                                                    </td>

                                                    <!-- LABEL CELL -->
                                                    <td style="
                                                        font-size:15px;
                                                        line-height:1.3;
                                                        color:#222;
                                                        vertical-align:middle;
                                                        padding-left:8px;
                                                    ">
                                                        <t t-esc="opt['label']"/>
                                                    </td>

                                                </tr>
                                            </table>

                                        </t>

                                    </div>
                                </t>


                                <!-- SIMPLE CHOICE (PDF SAFE) -->
                                <t t-if="q['question_type'] == 'simple_choice'">

                                    <!-- OUTER BOX -->
                                    <div style="
                                        border:2px solid #2b2f77;
                                        border-radius:6px;
                                        padding:14px;
                                        background:#f9fafc;
                                        margin-top:8px;
                                    ">

                                        <t t-foreach="q['answers']['simple_choice_options']" t-as="opt">

                                            <!-- OPTION ROW -->
                                            <table style="width:100%; border-collapse:collapse; margin-bottom:12px;">
                                                <tr>

                                                    <!-- RADIO CELL -->
                                                    <td style="width:22px; vertical-align:middle;">
                                                        <table style="
                                                            width:18px;
                                                            height:18px;
                                                            border:2px solid #1c1c5a;
                                                            border-radius:50%;
                                                            background:#fff;
                                                        ">
                                                            <tr>
                                                                <td style="text-align:center; vertical-align:middle;">
                                                                    <t t-if="opt['selected']">
                                                                        <div style="
                                                                            width:8px;
                                                                            height:8px;
                                                                            background:#1c1c5a;
                                                                            border-radius:50%;
                                                                            margin:auto;
                                                                        "></div>
                                                                    </t>
                                                                </td>
                                                            </tr>
                                                        </table>
                                                    </td>

                                                    <!-- LABEL CELL -->
                                                    <td style="
                                                        font-size:15px;
                                                        line-height:1.2;
                                                        color:#222;
                                                        vertical-align:middle;
                                                        padding-left:8px;
                                                    ">
                                                        <t t-esc="opt['label']"/>
                                                    </td>

                                                </tr>
                                            </table>

                                        </t>

                                    </div>
                                </t>




                                    <!-- TEXT -->
                                    <t t-elif="q['question_type'] == 'text_box'">
                                        <t t-esc="q['answers']['text_box']"/>
                                    </t>

                                    <!-- CHAR -->
                                    <t t-elif="q['question_type'] == 'char_box'">
                                        <t t-esc="q['answers']['char_box']"/>
                                    </t>

                                    <!-- NUMBER -->
                                    <t t-elif="q['question_type'] == 'numerical_box'">
                                        <t t-esc="q['answers']['numerical_box']"/>
                                    </t>

                                    <!-- DATE -->
                                    <t t-elif="q['question_type'] == 'date'">
                                        <t t-esc="q['answers']['date']"/>
                                    </t>

                                    <!-- DATETIME -->
                                    <t t-elif="q['question_type'] == 'datetime'">
                                        <t t-esc="q['answers']['datetime']"/>
                                    </t>

                                    <!-- SIGNATURE -->
                                    <t t-elif="q['question_type'] == 'digital_signature'">
                                       <div style="text-align:center;">
                                            <img t-att-src="image_data_uri(q['answers']['digital_signature'])"
                                                 style="max-height:120px; max-width:100%;"/>
                                        </div>
                                    </t>

                                    <!-- STATIC CONTENT -->
                                    <t t-elif="q['question_type'] == 'static_content'">
                                        <div style="
                                            background:#fff4e6;
                                            border-left:6px solid #f58220;
                                            padding:12px;
                                            border-radius:4px;
                                        ">
                                            <div t-raw="q['answers']['static_content']"/>
                                        </div>
                                    </t>

                                    <t t-else="">-</t>

                                </div>
                            </div>

                        </t>
                    </t>
                </div>

                <!-- PAGE BREAK AFTER EACH GROUP (EXCEPT LAST) -->
                <t t-if="grp_index != len(grouped_data) - 1">
                    <div style="page-break-after: always;"></div>
                </t>

            </t>
             <div style="page-break-after: always;"></div>
            <!-- ===================== RISK REGISTER ===================== -->
            <t t-if="risk_register">
            <div class="page" style="font-family:Arial, sans-serif;">

                <div style="font-size:22px; font-weight:700; margin-bottom:12px;">
                RISK REGISTER
                </div>

                <table style="width:100%; border-collapse:collapse; font-size:12px;">
                <tr style="background:#bfbfbf; font-weight:700;">
                    <td style="border:1px solid #000; padding:6px;">STEPS / ACTIVITY</td>
                    <td style="border:1px solid #000; padding:6px;">POTENTIAL HAZARD</td>
                    <td style="border:1px solid #000; padding:6px; text-align:center;">CONSEQUENCE</td>
                    <td style="border:1px solid #000; padding:6px; text-align:center;">LIKELIHOOD</td>
                    <td style="border:1px solid #000; padding:6px; text-align:center;">INITIAL RISK</td>
                    <td style="border:1px solid #000; padding:6px;">CONTROLS TO BE IMPLEMENTED</td>
                    <td style="border:1px solid #000; padding:6px; text-align:center;">POST RISK</td>
                </tr>

                <t t-foreach="risk_register" t-as="r">

                    <!-- ACTIVITY -->
                    <tr style="background:#d9e1f2; font-weight:700;">
                    <td colspan="7" style="border:1px solid #000; padding:6px;">
                        <t t-esc="r.get('activity','')"/>
                    </td>
                    </tr>

                    <!-- SUBTITLE e.g. PARK -->
                    <t t-if="r.get('subtitle')">
                    <tr style="background:#f2f2f2;">
                        <td colspan="7" style="border:1px solid #000; padding:6px; font-weight:700;">
                        <t t-esc="r.get('subtitle','')"/>
                        </td>
                    </tr>
                    </t>

                    <!-- HAZARDS -->
                    <t t-foreach="r.get('hazards', [])" t-as="h">
                    <tr>
                        <td style="border:1px solid #000; padding:6px;"></td>

                        <td style="border:1px solid #000; padding:6px;">
                        <t t-esc="h.get('hazard','')"/>
                        </td>

                        <td style="border:1px solid #000; padding:6px; text-align:center;">
                        <t t-esc="h.get('consequence',0)"/>
                        </td>

                        <td style="border:1px solid #000; padding:6px; text-align:center;">
                        <t t-esc="h.get('likelihood',0)"/>
                        </td>

                        <!-- INITIAL RISK (NO <t> INSIDE style) -->
                        <td t-att-style="
                            'border:1px solid #000; padding:6px; text-align:center; font-weight:700; background:' +
                            ('#ff0000' if (h.get('initial_level','').lower() == 'high')
                            else '#ffa500' if (h.get('initial_level','').lower() == 'medium')
                            else '#00ff00')
                        ">
                        <t t-esc="h.get('initial_score',0)"/> -
                        <t t-esc="(h.get('initial_level','') or '').upper()"/>
                        </td>

                        <!-- CONTROLS -->
                        <td style="border:1px solid #000; padding:6px;">
                        <t t-if="h.get('controls')">
                            <t t-foreach="h.get('controls')" t-as="c">
                             <t t-esc="c"/><br/>
                            </t>
                        </t>
                        <t t-else="">-</t>
                        </td>

                        <!-- POST RISK -->
                        <td t-att-style="
                            'border:1px solid #000; padding:6px; text-align:center; font-weight:700; background:' +
                            ('#ff0000' if (h.get('post_level','').lower() == 'high')
                            else '#ffa500' if (h.get('post_level','').lower() == 'medium')
                            else '#00ff00')
                        ">
                        <t t-esc="h.get('post_score',0)"/> -
                        <t t-esc="(h.get('post_level','') or '').upper()"/>
                        </td>

                    </tr>
                    </t>

                </t>
                </table>
            </div>

            <!-- ================= RISK SCORE MATRIX ================= -->
            <div style="margin-top:40px; font-family:Arial, sans-serif;">

            <div style="font-size:18px; font-weight:700; margin-bottom:10px;">
                RISK SCORE MATRIX
            </div>

            <!-- TOP LEGEND TABLE -->
            <table style="border-collapse:collapse; font-size:12px; margin-bottom:18px;">
                <tr>
                <th style="border:1px solid #000; padding:6px; background:#e6e6e6;">
                    HAZARD CONSEQUENCE RATING
                </th>
                <th style="border:1px solid #000; padding:6px; background:#e6e6e6;">
                    LIKELIHOOD
                </th>
                </tr>

                <tr>
                <td style="border:1px solid #000; padding:6px; background:#b6d7a8;">1 - Minor</td>
                <td style="border:1px solid #000; padding:6px; background:#b6d7a8;">1 - Very Unlikely</td>
                </tr>
                <tr>
                <td style="border:1px solid #000; padding:6px; background:#ffe599;">2 - Significant</td>
                <td style="border:1px solid #000; padding:6px; background:#ffe599;">2 - Unlikely</td>
                </tr>
                <tr>
                <td style="border:1px solid #000; padding:6px; background:#f9cb9c;">3 - Serious</td>
                <td style="border:1px solid #000; padding:6px; background:#f9cb9c;">3 - Possible</td>
                </tr>
                <tr>
                <td style="border:1px solid #000; padding:6px; background:#f4b183;">4 - Critical</td>
                <td style="border:1px solid #000; padding:6px; background:#f4b183;">4 - Likely</td>
                </tr>
                <tr>
                <td style="border:1px solid #000; padding:6px; background:#e06666; color:#fff;">
                    5 - Disastrous
                </td>
                <td style="border:1px solid #000; padding:6px; background:#e06666; color:#fff;">
                    5 - Very Likely
                </td>
                </tr>
            </table>

            <!-- MAIN MATRIX -->
            <table style="border-collapse:collapse; font-size:12px; text-align:center;">

                <!-- HEADER -->
                <tr>
                <th style="border:1px solid #000; padding:8px; background:#9fc5e8;">
                    RISK SCORE
                </th>
                <th style="border:1px solid #000; padding:8px; background:#b6d7a8;">1 - Very Unlikely</th>
                <th style="border:1px solid #000; padding:8px; background:#ffe599;">2 - Unlikely</th>
                <th style="border:1px solid #000; padding:8px; background:#f9cb9c;">3 - Possible</th>
                <th style="border:1px solid #000; padding:8px; background:#f4b183;">4 - Likely</th>
                <th style="border:1px solid #000; padding:8px; background:#e06666; color:#fff;">
                    5 - Very Likely
                </th>
                </tr>

                <!-- ROW 1 -->
                <tr>
                <td style="border:1px solid #000; padding:6px; background:#b6d7a8;">1 - Minor</td>
                <td style="background:#00ff00; border:1px solid #000;">1 - LOW</td>
                <td style="background:#00ff00; border:1px solid #000;">2 - LOW</td>
                <td style="background:#00ff00; border:1px solid #000;">3 - LOW</td>
                <td style="background:#00ff00; border:1px solid #000;">4 - LOW</td>
                <td style="background:#00ff00; border:1px solid #000;">5 - LOW</td>
                </tr>

                <!-- ROW 2 -->
                <tr>
                <td style="border:1px solid #000; padding:6px; background:#ffe599;">2 - Significant</td>
                <td style="background:#00ff00; border:1px solid #000;">2 - LOW</td>
                <td style="background:#00ff00; border:1px solid #000;">4 - LOW</td>
                <td style="background:#ffa500; border:1px solid #000;">6 - MEDIUM</td>
                <td style="background:#ffa500; border:1px solid #000;">8 - MEDIUM</td>
                <td style="background:#ffa500; border:1px solid #000;">10 - MEDIUM</td>
                </tr>

                <!-- ROW 3 -->
                <tr>
                <td style="border:1px solid #000; padding:6px; background:#f9cb9c;">3 - Serious</td>
                <td style="background:#00ff00; border:1px solid #000;">3 - LOW</td>
                <td style="background:#ffa500; border:1px solid #000;">6 - MEDIUM</td>
                <td style="background:#ffa500; border:1px solid #000;">9 - MEDIUM</td>
                <td style="background:#ffa500; border:1px solid #000;">12 - MEDIUM</td>
                <td style="background:#ff0000; color:#fff; border:1px solid #000;">15 - HIGH</td>
                </tr>

                <!-- ROW 4 -->
                <tr>
                <td style="border:1px solid #000; padding:6px; background:#f4b183;">4 - Critical</td>
                <td style="background:#00ff00; border:1px solid #000;">4 - LOW</td>
                <td style="background:#ffa500; border:1px solid #000;">8 - MEDIUM</td>
                <td style="background:#ffa500; border:1px solid #000;">12 - MEDIUM</td>
                <td style="background:#ff0000; color:#fff; border:1px solid #000;">16 - HIGH</td>
                <td style="background:#ff0000; color:#fff; border:1px solid #000;">20 - HIGH</td>
                </tr>

                <!-- ROW 5 -->
                <tr>
                <td style="border:1px solid #000; padding:6px; background:#e06666; color:#fff;">
                    5 - Disastrous
                </td>
                <td style="background:#00ff00; border:1px solid #000;">5 - LOW</td>
                <td style="background:#ffa500; border:1px solid #000;">10 - MEDIUM</td>
                <td style="background:#ff0000; color:#fff; border:1px solid #000;">15 - HIGH</td>
                <td style="background:#ff0000; color:#fff; border:1px solid #000;">20 - HIGH</td>
                <td style="background:#ff0000; color:#fff; border:1px solid #000;">25 - HIGH</td>
                </tr>

            </table>

            <div style="margin-top:8px; font-size:11px; font-weight:700;">
                 HAZARD CONSEQUENCE RATING
            </div>

            </div>
            
            </t>
        </t>
    </t>
</template>


    </data>
</odoo>
